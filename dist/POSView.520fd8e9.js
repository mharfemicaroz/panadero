import{z as Vr,b as d,l as h,i as a,m as w,F as G,x as X,t as b,a as x,w as we,A as Ln,s as C,B as T,C as I,g as gt,f as Q,h as P,v as ee,q as jn,n as ie,c as K,e as We,T as wn,D as Gn,E as Fn,r as Un,G as zr,H as Hr,d as Xr,u as Qr,I as Wr,S as k}from"./index.fa4aaca0.js";import{u as Jr}from"./item.02bdd6c7.js";import{_ as xe}from"./BaseIcon.4caf67cb.js";import{j as Yr,o as Zr,p as Kr,q as eo,r as to,s as no,t as ro}from"./mdi.50c7bbe5.js";import{_ as wt}from"./_plugin-vue_export-helper.c27b6911.js";import{u as qn}from"./customer.1e35bcca.js";import{u as Vn}from"./sale.c7c7f79f.js";import{B as oo}from"./BaseTable.3881ec66.js";import{_ as ao}from"./NotificationBar.2dd16147.js";import{u as io}from"./category.49d8eafd.js";import{u as uo,a as lo}from"./cashRegister.f34fef8f.js";import"./index.889770dc.js";import"./TableCheckboxCell.5507bf42.js";import"./BaseButton.7542bf1a.js";import"./BaseButtons.446b06e3.js";import"./BaseLevel.511e0059.js";var Et={},Je={},L={};Object.defineProperty(L,"__esModule",{value:!0});function co(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var so=function t(e,r){co(this,t),this.data=e,this.text=r.text||e,this.options=r};L.default=so;Object.defineProperty(Je,"__esModule",{value:!0});Je.CODE39=void 0;var fo=function(){function t(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),ho=L,vo=mo(ho);function mo(t){return t&&t.__esModule?t:{default:t}}function _o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function po(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function go(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var bo=function(t){go(e,t);function e(r,n){return _o(this,e),r=r.toUpperCase(),n.mod43&&(r+=wo(Eo(r))),po(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return fo(e,[{key:"encode",value:function(){for(var n=ft("*"),o=0;o<this.data.length;o++)n+=ft(this.data[o])+"0";return n+=ft("*"),{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(vo.default),zn=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],yo=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function ft(t){return xo(Hn(t))}function xo(t){return yo[t].toString(2)}function wo(t){return zn[t]}function Hn(t){return zn.indexOf(t)}function Eo(t){for(var e=0,r=0;r<t.length;r++)e+=Hn(t[r]);return e=e%43,e}Je.CODE39=bo;var J={},$t={},$e={},S={};Object.defineProperty(S,"__esModule",{value:!0});var Me;function ht(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Xn=S.SET_A=0,Qn=S.SET_B=1,Wn=S.SET_C=2;S.SHIFT=98;var $o=S.START_A=103,Oo=S.START_B=104,So=S.START_C=105;S.MODULO=103;S.STOP=106;S.FNC1=207;S.SET_BY_CODE=(Me={},ht(Me,$o,Xn),ht(Me,Oo,Qn),ht(Me,So,Wn),Me);S.SWAP={101:Xn,100:Qn,99:Wn};S.A_START_CHAR=String.fromCharCode(208);S.B_START_CHAR=String.fromCharCode(209);S.C_START_CHAR=String.fromCharCode(210);S.A_CHARS="[\0-_È-Ï]";S.B_CHARS="[ -È-Ï]";S.C_CHARS="(Ï*[0-9]{2}Ï*)";S.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011];Object.defineProperty($e,"__esModule",{value:!0});var Co=function(){function t(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),ko=L,Po=Ao(ko),j=S;function Ao(t){return t&&t.__esModule?t:{default:t}}function To(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Io(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ro(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Mo=function(t){Ro(e,t);function e(r,n){To(this,e);var o=Io(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r.substring(1),n));return o.bytes=r.split("").map(function(u){return u.charCodeAt(0)}),o}return Co(e,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var n=this.bytes,o=n.shift()-105,u=j.SET_BY_CODE[o];if(u===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&n.unshift(j.FNC1);var l=e.next(n,1,u);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:e.getBar(o)+l.result+e.getBar((l.checksum+o)%j.MODULO)+e.getBar(j.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var n=this.options.ean128||!1;return typeof n=="string"&&(n=n.toLowerCase()==="true"),n}}],[{key:"getBar",value:function(n){return j.BARS[n]?j.BARS[n].toString():""}},{key:"correctIndex",value:function(n,o){if(o===j.SET_A){var u=n.shift();return u<32?u+64:u-32}else return o===j.SET_B?n.shift()-32:(n.shift()-48)*10+n.shift()-48}},{key:"next",value:function(n,o,u){if(!n.length)return{result:"",checksum:0};var l=void 0,c=void 0;if(n[0]>=200){c=n.shift()-105;var $=j.SWAP[c];$!==void 0?l=e.next(n,o+1,$):((u===j.SET_A||u===j.SET_B)&&c===j.SHIFT&&(n[0]=u===j.SET_A?n[0]>95?n[0]-96:n[0]:n[0]<32?n[0]+96:n[0]),l=e.next(n,o+1,u))}else c=e.correctIndex(n,u),l=e.next(n,o+1,u);var R=e.getBar(c),y=c*o;return{result:R+l.result,checksum:y+l.checksum}}}]),e}(Po.default);$e.default=Mo;var Ot={};Object.defineProperty(Ot,"__esModule",{value:!0});var ue=S,Jn=function(e){return e.match(new RegExp("^"+ue.A_CHARS+"*"))[0].length},Yn=function(e){return e.match(new RegExp("^"+ue.B_CHARS+"*"))[0].length},Zn=function(e){return e.match(new RegExp("^"+ue.C_CHARS+"*"))[0]};function St(t,e){var r=e?ue.A_CHARS:ue.B_CHARS,n=t.match(new RegExp("^("+r+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(n)return n[1]+String.fromCharCode(204)+Kn(t.substring(n[1].length));var o=t.match(new RegExp("^"+r+"+"))[0];return o.length===t.length?t:o+String.fromCharCode(e?205:206)+St(t.substring(o.length),!e)}function Kn(t){var e=Zn(t),r=e.length;if(r===t.length)return t;t=t.substring(r);var n=Jn(t)>=Yn(t);return e+String.fromCharCode(n?206:205)+St(t,n)}Ot.default=function(t){var e=void 0,r=Zn(t).length;if(r>=2)e=ue.C_START_CHAR+Kn(t);else{var n=Jn(t)>Yn(t);e=(n?ue.A_START_CHAR:ue.B_START_CHAR)+St(t,n)}return e.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(o,u){return String.fromCharCode(203)+u})};Object.defineProperty($t,"__esModule",{value:!0});var Do=$e,Bo=er(Do),No=Ot,Lo=er(No);function er(t){return t&&t.__esModule?t:{default:t}}function jo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Go(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Fo=function(t){Go(e,t);function e(r,n){if(jo(this,e),/^[\x00-\x7F\xC8-\xD3]+$/.test(r))var o=vt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,(0,Lo.default)(r),n));else var o=vt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n));return vt(o)}return e}(Bo.default);$t.default=Fo;var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0});var Uo=function(){function t(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),qo=$e,Vo=zo(qo),En=S;function zo(t){return t&&t.__esModule?t:{default:t}}function Ho(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xo(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Qo(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Wo=function(t){Qo(e,t);function e(r,n){return Ho(this,e),Xo(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,En.A_START_CHAR+r,n))}return Uo(e,[{key:"valid",value:function(){return new RegExp("^"+En.A_CHARS+"+$").test(this.data)}}]),e}(Vo.default);Ct.default=Wo;var kt={};Object.defineProperty(kt,"__esModule",{value:!0});var Jo=function(){function t(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Yo=$e,Zo=Ko(Yo),$n=S;function Ko(t){return t&&t.__esModule?t:{default:t}}function ea(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ta(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function na(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ra=function(t){na(e,t);function e(r,n){return ea(this,e),ta(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,$n.B_START_CHAR+r,n))}return Jo(e,[{key:"valid",value:function(){return new RegExp("^"+$n.B_CHARS+"+$").test(this.data)}}]),e}(Zo.default);kt.default=ra;var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});var oa=function(){function t(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),aa=$e,ia=ua(aa),On=S;function ua(t){return t&&t.__esModule?t:{default:t}}function la(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ca(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function sa(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var da=function(t){sa(e,t);function e(r,n){return la(this,e),ca(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,On.C_START_CHAR+r,n))}return oa(e,[{key:"valid",value:function(){return new RegExp("^"+On.C_CHARS+"+$").test(this.data)}}]),e}(ia.default);Pt.default=da;Object.defineProperty(J,"__esModule",{value:!0});J.CODE128C=J.CODE128B=J.CODE128A=J.CODE128=void 0;var fa=$t,ha=Ye(fa),va=Ct,ma=Ye(va),_a=kt,pa=Ye(_a),ga=Pt,ba=Ye(ga);function Ye(t){return t&&t.__esModule?t:{default:t}}J.CODE128=ha.default;J.CODE128A=ma.default;J.CODE128B=pa.default;J.CODE128C=ba.default;var N={},At={},V={};Object.defineProperty(V,"__esModule",{value:!0});V.SIDE_BIN="101";V.MIDDLE_BIN="01010";V.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]};V.EAN2_STRUCTURE=["LL","LG","GL","GG"];V.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"];V.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"];var Ze={},he={};Object.defineProperty(he,"__esModule",{value:!0});var ya=V,xa=function(e,r,n){var o=e.split("").map(function(l,c){return ya.BINARIES[r[c]]}).map(function(l,c){return l?l[e[c]]:""});if(n){var u=e.length-1;o=o.map(function(l,c){return c<u?l+n:l})}return o.join("")};he.default=xa;Object.defineProperty(Ze,"__esModule",{value:!0});var wa=function(){function t(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),ge=V,Ea=he,Sn=tr(Ea),$a=L,Oa=tr($a);function tr(t){return t&&t.__esModule?t:{default:t}}function Sa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ca(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ka(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Pa=function(t){ka(e,t);function e(r,n){Sa(this,e);var o=Ca(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n));return o.fontSize=!n.flat&&n.fontSize>n.width*10?n.width*10:n.fontSize,o.guardHeight=n.height+o.fontSize/2+n.textMargin,o}return wa(e,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(n,o){return this.text.substr(n,o)}},{key:"leftEncode",value:function(n,o){return(0,Sn.default)(n,o)}},{key:"rightText",value:function(n,o){return this.text.substr(n,o)}},{key:"rightEncode",value:function(n,o){return(0,Sn.default)(n,o)}},{key:"encodeGuarded",value:function(){var n={fontSize:this.fontSize},o={height:this.guardHeight};return[{data:ge.SIDE_BIN,options:o},{data:this.leftEncode(),text:this.leftText(),options:n},{data:ge.MIDDLE_BIN,options:o},{data:this.rightEncode(),text:this.rightText(),options:n},{data:ge.SIDE_BIN,options:o}]}},{key:"encodeFlat",value:function(){var n=[ge.SIDE_BIN,this.leftEncode(),ge.MIDDLE_BIN,this.rightEncode(),ge.SIDE_BIN];return{data:n.join(""),text:this.text}}}]),e}(Oa.default);Ze.default=Pa;Object.defineProperty(At,"__esModule",{value:!0});var Aa=function(){function t(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),De=function t(e,r,n){e===null&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,r);if(o===void 0){var u=Object.getPrototypeOf(e);return u===null?void 0:t(u,r,n)}else{if("value"in o)return o.value;var l=o.get;return l===void 0?void 0:l.call(n)}},Ta=V,Ia=Ze,Ra=Ma(Ia);function Ma(t){return t&&t.__esModule?t:{default:t}}function Da(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ba(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Na(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Cn=function(e){var r=e.substr(0,12).split("").map(function(n){return+n}).reduce(function(n,o,u){return u%2?n+o*3:n+o},0);return(10-r%10)%10},La=function(t){Na(e,t);function e(r,n){Da(this,e),r.search(/^[0-9]{12}$/)!==-1&&(r+=Cn(r));var o=Ba(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n));return o.lastChar=n.lastChar,o}return Aa(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===Cn(this.data)}},{key:"leftText",value:function(){return De(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var n=this.data.substr(1,6),o=Ta.EAN13_STRUCTURE[this.data[0]];return De(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,n,o)}},{key:"rightText",value:function(){return De(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var n=this.data.substr(7,6);return De(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,n,"RRRRRR")}},{key:"encodeGuarded",value:function(){var n=De(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(n.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(n.push({data:"00"}),n.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),n}}]),e}(Ra.default);At.default=La;var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});var ja=function(){function t(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),ze=function t(e,r,n){e===null&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,r);if(o===void 0){var u=Object.getPrototypeOf(e);return u===null?void 0:t(u,r,n)}else{if("value"in o)return o.value;var l=o.get;return l===void 0?void 0:l.call(n)}},Ga=Ze,Fa=Ua(Ga);function Ua(t){return t&&t.__esModule?t:{default:t}}function qa(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Va(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function za(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var kn=function(e){var r=e.substr(0,7).split("").map(function(n){return+n}).reduce(function(n,o,u){return u%2?n+o:n+o*3},0);return(10-r%10)%10},Ha=function(t){za(e,t);function e(r,n){return qa(this,e),r.search(/^[0-9]{7}$/)!==-1&&(r+=kn(r)),Va(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return ja(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===kn(this.data)}},{key:"leftText",value:function(){return ze(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var n=this.data.substr(0,4);return ze(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,n,"LLLL")}},{key:"rightText",value:function(){return ze(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var n=this.data.substr(4,4);return ze(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,n,"RRRR")}}]),e}(Fa.default);Tt.default=Ha;var It={};Object.defineProperty(It,"__esModule",{value:!0});var Xa=function(){function t(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Qa=V,Wa=he,Ja=nr(Wa),Ya=L,Za=nr(Ya);function nr(t){return t&&t.__esModule?t:{default:t}}function Ka(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ei(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ti(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ni=function(e){var r=e.split("").map(function(n){return+n}).reduce(function(n,o,u){return u%2?n+o*9:n+o*3},0);return r%10},ri=function(t){ti(e,t);function e(r,n){return Ka(this,e),ei(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return Xa(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var n=Qa.EAN5_STRUCTURE[ni(this.data)];return{data:"1011"+(0,Ja.default)(this.data,n,"01"),text:this.text}}}]),e}(Za.default);It.default=ri;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0});var oi=function(){function t(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),ai=V,ii=he,ui=rr(ii),li=L,ci=rr(li);function rr(t){return t&&t.__esModule?t:{default:t}}function si(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function di(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function fi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var hi=function(t){fi(e,t);function e(r,n){return si(this,e),di(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return oi(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var n=ai.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,ui.default)(this.data,n,"01"),text:this.text}}}]),e}(ci.default);Rt.default=hi;var Le={};Object.defineProperty(Le,"__esModule",{value:!0});var vi=function(){function t(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();Le.checksum=bt;var mi=he,be=or(mi),_i=L,pi=or(_i);function or(t){return t&&t.__esModule?t:{default:t}}function gi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bi(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function yi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xi=function(t){yi(e,t);function e(r,n){gi(this,e),r.search(/^[0-9]{11}$/)!==-1&&(r+=bt(r));var o=bi(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n));return o.displayValue=n.displayValue,n.fontSize>n.width*10?o.fontSize=n.width*10:o.fontSize=n.fontSize,o.guardHeight=n.height+o.fontSize/2+n.textMargin,o}return vi(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==bt(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=(0,be.default)(this.data.substr(0,6),"LLLLLL"),n+="01010",n+=(0,be.default)(this.data.substr(6,6),"RRRRRR"),n+="101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101"+(0,be.default)(this.data[0],"L"),options:{height:this.guardHeight}}),n.push({data:(0,be.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),n.push({data:"01010",options:{height:this.guardHeight}}),n.push({data:(0,be.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),n.push({data:(0,be.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),n}}]),e}(pi.default);function bt(t){var e=0,r;for(r=1;r<11;r+=2)e+=parseInt(t[r]);for(r=0;r<11;r+=2)e+=parseInt(t[r])*3;return(10-e%10)%10}Le.default=xi;var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});var wi=function(){function t(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Ei=he,$i=ar(Ei),Oi=L,Si=ar(Oi),Ci=Le;function ar(t){return t&&t.__esModule?t:{default:t}}function ki(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Pi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Ai=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],Ti=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],Ii=function(t){Pi(e,t);function e(r,n){ki(this,e);var o=mt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n));if(o.isValid=!1,r.search(/^[0-9]{6}$/)!==-1)o.middleDigits=r,o.upcA=Pn(r,"0"),o.text=n.text||""+o.upcA[0]+r+o.upcA[o.upcA.length-1],o.isValid=!0;else if(r.search(/^[01][0-9]{7}$/)!==-1)if(o.middleDigits=r.substring(1,r.length-1),o.upcA=Pn(o.middleDigits,r[0]),o.upcA[o.upcA.length-1]===r[r.length-1])o.isValid=!0;else return mt(o);else return mt(o);return o.displayValue=n.displayValue,n.fontSize>n.width*10?o.fontSize=n.width*10:o.fontSize=n.fontSize,o.guardHeight=n.height+o.fontSize/2+n.textMargin,o}return wi(e,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=this.encodeMiddleDigits(),n+="010101",{data:n,text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101",options:{height:this.guardHeight}}),n.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),n.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),n}},{key:"encodeMiddleDigits",value:function(){var n=this.upcA[0],o=this.upcA[this.upcA.length-1],u=Ti[parseInt(o)][parseInt(n)];return(0,$i.default)(this.middleDigits,u)}}]),e}(Si.default);function Pn(t,e){for(var r=parseInt(t[t.length-1]),n=Ai[r],o="",u=0,l=0;l<n.length;l++){var c=n[l];c==="X"?o+=t[u++]:o+=c}return o=""+e+o,""+o+(0,Ci.checksum)(o)}Mt.default=Ii;Object.defineProperty(N,"__esModule",{value:!0});N.UPCE=N.UPC=N.EAN2=N.EAN5=N.EAN8=N.EAN13=void 0;var Ri=At,Mi=Oe(Ri),Di=Tt,Bi=Oe(Di),Ni=It,Li=Oe(Ni),ji=Rt,Gi=Oe(ji),Fi=Le,Ui=Oe(Fi),qi=Mt,Vi=Oe(qi);function Oe(t){return t&&t.__esModule?t:{default:t}}N.EAN13=Mi.default;N.EAN8=Bi.default;N.EAN5=Li.default;N.EAN2=Gi.default;N.UPC=Ui.default;N.UPCE=Vi.default;var Ee={},Ke={},je={};Object.defineProperty(je,"__esModule",{value:!0});je.START_BIN="1010";je.END_BIN="11101";je.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"];Object.defineProperty(Ke,"__esModule",{value:!0});var zi=function(){function t(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),He=je,Hi=L,Xi=Qi(Hi);function Qi(t){return t&&t.__esModule?t:{default:t}}function Wi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ji(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Yi(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Zi=function(t){Yi(e,t);function e(){return Wi(this,e),Ji(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return zi(e,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var n=this,o=this.data.match(/.{2}/g).map(function(u){return n.encodePair(u)}).join("");return{data:He.START_BIN+o+He.END_BIN,text:this.text}}},{key:"encodePair",value:function(n){var o=He.BINARIES[n[1]];return He.BINARIES[n[0]].split("").map(function(u,l){return(u==="1"?"111":"1")+(o[l]==="1"?"000":"0")}).join("")}}]),e}(Xi.default);Ke.default=Zi;var Dt={};Object.defineProperty(Dt,"__esModule",{value:!0});var Ki=function(){function t(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),eu=Ke,tu=nu(eu);function nu(t){return t&&t.__esModule?t:{default:t}}function ru(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ou(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function au(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var An=function(e){var r=e.substr(0,13).split("").map(function(n){return parseInt(n,10)}).reduce(function(n,o,u){return n+o*(3-u%2*2)},0);return Math.ceil(r/10)*10-r},iu=function(t){au(e,t);function e(r,n){return ru(this,e),r.search(/^[0-9]{13}$/)!==-1&&(r+=An(r)),ou(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return Ki(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===An(this.data)}}]),e}(tu.default);Dt.default=iu;Object.defineProperty(Ee,"__esModule",{value:!0});Ee.ITF14=Ee.ITF=void 0;var uu=Ke,lu=ir(uu),cu=Dt,su=ir(cu);function ir(t){return t&&t.__esModule?t:{default:t}}Ee.ITF=lu.default;Ee.ITF14=su.default;var q={},ve={};Object.defineProperty(ve,"__esModule",{value:!0});var du=function(){function t(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),fu=L,hu=vu(fu);function vu(t){return t&&t.__esModule?t:{default:t}}function mu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _u(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function pu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var gu=function(t){pu(e,t);function e(r,n){return mu(this,e),_u(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return du(e,[{key:"encode",value:function(){for(var n="110",o=0;o<this.data.length;o++){var u=parseInt(this.data[o]),l=u.toString(2);l=bu(l,4-l.length);for(var c=0;c<l.length;c++)n+=l[c]=="0"?"100":"110"}return n+="1001",{data:n,text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),e}(hu.default);function bu(t,e){for(var r=0;r<e;r++)t="0"+t;return t}ve.default=gu;var Bt={},me={};Object.defineProperty(me,"__esModule",{value:!0});me.mod10=yu;me.mod11=xu;function yu(t){for(var e=0,r=0;r<t.length;r++){var n=parseInt(t[r]);(r+t.length)%2===0?e+=n:e+=n*2%10+Math.floor(n*2/10)}return(10-e%10)%10}function xu(t){for(var e=0,r=[2,3,4,5,6,7],n=0;n<t.length;n++){var o=parseInt(t[t.length-1-n]);e+=r[n%r.length]*o}return(11-e%11)%11}Object.defineProperty(Bt,"__esModule",{value:!0});var wu=ve,Eu=Ou(wu),$u=me;function Ou(t){return t&&t.__esModule?t:{default:t}}function Su(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ku(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Pu=function(t){ku(e,t);function e(r,n){return Su(this,e),Cu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r+(0,$u.mod10)(r),n))}return e}(Eu.default);Bt.default=Pu;var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0});var Au=ve,Tu=Ru(Au),Iu=me;function Ru(t){return t&&t.__esModule?t:{default:t}}function Mu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Du(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Bu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Nu=function(t){Bu(e,t);function e(r,n){return Mu(this,e),Du(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r+(0,Iu.mod11)(r),n))}return e}(Tu.default);Nt.default=Nu;var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0});var Lu=ve,ju=Gu(Lu),Tn=me;function Gu(t){return t&&t.__esModule?t:{default:t}}function Fu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function qu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Vu=function(t){qu(e,t);function e(r,n){return Fu(this,e),r+=(0,Tn.mod10)(r),r+=(0,Tn.mod10)(r),Uu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return e}(ju.default);Lt.default=Vu;var jt={};Object.defineProperty(jt,"__esModule",{value:!0});var zu=ve,Hu=Xu(zu),In=me;function Xu(t){return t&&t.__esModule?t:{default:t}}function Qu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wu(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Ju(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Yu=function(t){Ju(e,t);function e(r,n){return Qu(this,e),r+=(0,In.mod11)(r),r+=(0,In.mod10)(r),Wu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return e}(Hu.default);jt.default=Yu;Object.defineProperty(q,"__esModule",{value:!0});q.MSI1110=q.MSI1010=q.MSI11=q.MSI10=q.MSI=void 0;var Zu=ve,Ku=Ge(Zu),el=Bt,tl=Ge(el),nl=Nt,rl=Ge(nl),ol=Lt,al=Ge(ol),il=jt,ul=Ge(il);function Ge(t){return t&&t.__esModule?t:{default:t}}q.MSI=Ku.default;q.MSI10=tl.default;q.MSI11=rl.default;q.MSI1010=al.default;q.MSI1110=ul.default;var et={};Object.defineProperty(et,"__esModule",{value:!0});et.pharmacode=void 0;var ll=function(){function t(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),cl=L,sl=dl(cl);function dl(t){return t&&t.__esModule?t:{default:t}}function fl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function vl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ml=function(t){vl(e,t);function e(r,n){fl(this,e);var o=hl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n));return o.number=parseInt(r,10),o}return ll(e,[{key:"encode",value:function(){for(var n=this.number,o="";!isNaN(n)&&n!=0;)n%2===0?(o="11100"+o,n=(n-2)/2):(o="100"+o,n=(n-1)/2);return o=o.slice(0,-2),{data:o,text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),e}(sl.default);et.pharmacode=ml;var tt={};Object.defineProperty(tt,"__esModule",{value:!0});tt.codabar=void 0;var _l=function(){function t(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),pl=L,gl=bl(pl);function bl(t){return t&&t.__esModule?t:{default:t}}function yl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function wl(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var El=function(t){wl(e,t);function e(r,n){yl(this,e),r.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(r="A"+r+"A");var o=xl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r.toUpperCase(),n));return o.text=o.options.text||o.text.replace(/[A-D]/g,""),o}return _l(e,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var n=[],o=this.getEncodings(),u=0;u<this.data.length;u++)n.push(o[this.data.charAt(u)]),u!==this.data.length-1&&n.push("0");return{text:this.text,data:n.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),e}(gl.default);tt.codabar=El;var nt={};Object.defineProperty(nt,"__esModule",{value:!0});nt.GenericBarcode=void 0;var $l=function(){function t(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Ol=L,Sl=Cl(Ol);function Cl(t){return t&&t.__esModule?t:{default:t}}function kl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pl(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Al(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Tl=function(t){Al(e,t);function e(r,n){return kl(this,e),Pl(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return $l(e,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),e}(Sl.default);nt.GenericBarcode=Tl;Object.defineProperty(Et,"__esModule",{value:!0});var Il=Je,Xe=J,ye=N,Rn=Ee,Be=q,Rl=et,Ml=tt,Dl=nt;Et.default={CODE39:Il.CODE39,CODE128:Xe.CODE128,CODE128A:Xe.CODE128A,CODE128B:Xe.CODE128B,CODE128C:Xe.CODE128C,EAN13:ye.EAN13,EAN8:ye.EAN8,EAN5:ye.EAN5,EAN2:ye.EAN2,UPC:ye.UPC,UPCE:ye.UPCE,ITF14:Rn.ITF14,ITF:Rn.ITF,MSI:Be.MSI,MSI10:Be.MSI10,MSI11:Be.MSI11,MSI1010:Be.MSI1010,MSI1110:Be.MSI1110,pharmacode:Rl.pharmacode,codabar:Ml.codabar,GenericBarcode:Dl.GenericBarcode};var Se={};Object.defineProperty(Se,"__esModule",{value:!0});var Bl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};Se.default=function(t,e){return Bl({},t,e)};var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0});Gt.default=Nl;function Nl(t){var e=[];function r(n){if(Array.isArray(n))for(var o=0;o<n.length;o++)r(n[o]);else n.text=n.text||"",n.data=n.data||"",e.push(n)}return r(t),e}var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0});Ft.default=Ll;function Ll(t){return t.marginTop=t.marginTop||t.margin,t.marginBottom=t.marginBottom||t.margin,t.marginRight=t.marginRight||t.margin,t.marginLeft=t.marginLeft||t.margin,t}var Ut={},qt={},rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt.default=jl;function jl(t){var e=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var r in e)e.hasOwnProperty(r)&&(r=e[r],typeof t[r]=="string"&&(t[r]=parseInt(t[r],10)));return typeof t.displayValue=="string"&&(t.displayValue=t.displayValue!="false"),t}var ot={};Object.defineProperty(ot,"__esModule",{value:!0});var Gl={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}};ot.default=Gl;Object.defineProperty(qt,"__esModule",{value:!0});var Fl=rt,Ul=ur(Fl),ql=ot,Mn=ur(ql);function ur(t){return t&&t.__esModule?t:{default:t}}function Vl(t){var e={};for(var r in Mn.default)Mn.default.hasOwnProperty(r)&&(t.hasAttribute("jsbarcode-"+r.toLowerCase())&&(e[r]=t.getAttribute("jsbarcode-"+r.toLowerCase())),t.hasAttribute("data-"+r.toLowerCase())&&(e[r]=t.getAttribute("data-"+r.toLowerCase())));return e.value=t.getAttribute("jsbarcode-value")||t.getAttribute("data-value"),e=(0,Ul.default)(e),e}qt.default=Vl;var Vt={},zt={},F={};Object.defineProperty(F,"__esModule",{value:!0});F.getTotalWidthOfEncodings=F.calculateEncodingAttributes=F.getBarcodePadding=F.getEncodingHeight=F.getMaximumHeightOfEncodings=void 0;var zl=Se,Hl=Xl(zl);function Xl(t){return t&&t.__esModule?t:{default:t}}function lr(t,e){return e.height+(e.displayValue&&t.text.length>0?e.fontSize+e.textMargin:0)+e.marginTop+e.marginBottom}function cr(t,e,r){if(r.displayValue&&e<t){if(r.textAlign=="center")return Math.floor((t-e)/2);if(r.textAlign=="left")return 0;if(r.textAlign=="right")return Math.floor(t-e)}return 0}function Ql(t,e,r){for(var n=0;n<t.length;n++){var o=t[n],u=(0,Hl.default)(e,o.options),l;u.displayValue?l=Yl(o.text,u,r):l=0;var c=o.data.length*u.width;o.width=Math.ceil(Math.max(l,c)),o.height=lr(o,u),o.barcodePadding=cr(l,c,u)}}function Wl(t){for(var e=0,r=0;r<t.length;r++)e+=t[r].width;return e}function Jl(t){for(var e=0,r=0;r<t.length;r++)t[r].height>e&&(e=t[r].height);return e}function Yl(t,e,r){var n;if(r)n=r;else if(typeof document<"u")n=document.createElement("canvas").getContext("2d");else return 0;n.font=e.fontOptions+" "+e.fontSize+"px "+e.font;var o=n.measureText(t);if(!o)return 0;var u=o.width;return u}F.getMaximumHeightOfEncodings=Jl;F.getEncodingHeight=lr;F.getBarcodePadding=cr;F.calculateEncodingAttributes=Ql;F.getTotalWidthOfEncodings=Wl;Object.defineProperty(zt,"__esModule",{value:!0});var Zl=function(){function t(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),Kl=Se,ec=tc(Kl),_t=F;function tc(t){return t&&t.__esModule?t:{default:t}}function nc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var rc=function(){function t(e,r,n){nc(this,t),this.canvas=e,this.encodings=r,this.options=n}return Zl(t,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var r=0;r<this.encodings.length;r++){var n=(0,ec.default)(this.options,this.encodings[r].options);this.drawCanvasBarcode(n,this.encodings[r]),this.drawCanvasText(n,this.encodings[r]),this.moveCanvasDrawing(this.encodings[r])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var r=this.canvas.getContext("2d");r.save(),(0,_t.calculateEncodingAttributes)(this.encodings,this.options,r);var n=(0,_t.getTotalWidthOfEncodings)(this.encodings),o=(0,_t.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=n+this.options.marginLeft+this.options.marginRight,this.canvas.height=o,r.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(r.fillStyle=this.options.background,r.fillRect(0,0,this.canvas.width,this.canvas.height)),r.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(r,n){var o=this.canvas.getContext("2d"),u=n.data,l;r.textPosition=="top"?l=r.marginTop+r.fontSize+r.textMargin:l=r.marginTop,o.fillStyle=r.lineColor;for(var c=0;c<u.length;c++){var $=c*r.width+n.barcodePadding;u[c]==="1"?o.fillRect($,l,r.width,r.height):u[c]&&o.fillRect($,l,r.width,r.height*u[c])}}},{key:"drawCanvasText",value:function(r,n){var o=this.canvas.getContext("2d"),u=r.fontOptions+" "+r.fontSize+"px "+r.font;if(r.displayValue){var l,c;r.textPosition=="top"?c=r.marginTop+r.fontSize-r.textMargin:c=r.height+r.textMargin+r.marginTop+r.fontSize,o.font=u,r.textAlign=="left"||n.barcodePadding>0?(l=0,o.textAlign="left"):r.textAlign=="right"?(l=n.width-1,o.textAlign="right"):(l=n.width/2,o.textAlign="center"),o.fillText(n.text,l,c)}}},{key:"moveCanvasDrawing",value:function(r){var n=this.canvas.getContext("2d");n.translate(r.width,0)}},{key:"restoreCanvas",value:function(){var r=this.canvas.getContext("2d");r.restore()}}]),t}();zt.default=rc;var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});var oc=function(){function t(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),ac=Se,ic=uc(ac),pt=F;function uc(t){return t&&t.__esModule?t:{default:t}}function lc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Qe="http://www.w3.org/2000/svg",cc=function(){function t(e,r,n){lc(this,t),this.svg=e,this.encodings=r,this.options=n,this.document=n.xmlDocument||document}return oc(t,[{key:"render",value:function(){var r=this.options.marginLeft;this.prepareSVG();for(var n=0;n<this.encodings.length;n++){var o=this.encodings[n],u=(0,ic.default)(this.options,o.options),l=this.createGroup(r,u.marginTop,this.svg);this.setGroupOptions(l,u),this.drawSvgBarcode(l,u,o),this.drawSVGText(l,u,o),r+=o.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,pt.calculateEncodingAttributes)(this.encodings,this.options);var r=(0,pt.getTotalWidthOfEncodings)(this.encodings),n=(0,pt.getMaximumHeightOfEncodings)(this.encodings),o=r+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(o,n),this.options.background&&this.drawRect(0,0,o,n,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(r,n,o){var u=o.data,l;n.textPosition=="top"?l=n.fontSize+n.textMargin:l=0;for(var c=0,$=0,R=0;R<u.length;R++)$=R*n.width+o.barcodePadding,u[R]==="1"?c++:c>0&&(this.drawRect($-n.width*c,l,n.width*c,n.height,r),c=0);c>0&&this.drawRect($-n.width*(c-1),l,n.width*c,n.height,r)}},{key:"drawSVGText",value:function(r,n,o){var u=this.document.createElementNS(Qe,"text");if(n.displayValue){var l,c;u.setAttribute("style","font:"+n.fontOptions+" "+n.fontSize+"px "+n.font),n.textPosition=="top"?c=n.fontSize-n.textMargin:c=n.height+n.textMargin+n.fontSize,n.textAlign=="left"||o.barcodePadding>0?(l=0,u.setAttribute("text-anchor","start")):n.textAlign=="right"?(l=o.width-1,u.setAttribute("text-anchor","end")):(l=o.width/2,u.setAttribute("text-anchor","middle")),u.setAttribute("x",l),u.setAttribute("y",c),u.appendChild(this.document.createTextNode(o.text)),r.appendChild(u)}}},{key:"setSvgAttributes",value:function(r,n){var o=this.svg;o.setAttribute("width",r+"px"),o.setAttribute("height",n+"px"),o.setAttribute("x","0px"),o.setAttribute("y","0px"),o.setAttribute("viewBox","0 0 "+r+" "+n),o.setAttribute("xmlns",Qe),o.setAttribute("version","1.1"),o.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(r,n,o){var u=this.document.createElementNS(Qe,"g");return u.setAttribute("transform","translate("+r+", "+n+")"),o.appendChild(u),u}},{key:"setGroupOptions",value:function(r,n){r.setAttribute("style","fill:"+n.lineColor+";")}},{key:"drawRect",value:function(r,n,o,u,l){var c=this.document.createElementNS(Qe,"rect");return c.setAttribute("x",r),c.setAttribute("y",n),c.setAttribute("width",o),c.setAttribute("height",u),l.appendChild(c),c}}]),t}();Ht.default=cc;var Xt={};Object.defineProperty(Xt,"__esModule",{value:!0});var sc=function(){function t(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function dc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var fc=function(){function t(e,r,n){dc(this,t),this.object=e,this.encodings=r,this.options=n}return sc(t,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),t}();Xt.default=fc;Object.defineProperty(Vt,"__esModule",{value:!0});var hc=zt,vc=Qt(hc),mc=Ht,_c=Qt(mc),pc=Xt,gc=Qt(pc);function Qt(t){return t&&t.__esModule?t:{default:t}}Vt.default={CanvasRenderer:vc.default,SVGRenderer:_c.default,ObjectRenderer:gc.default};var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});function Wt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jt(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Yt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var bc=function(t){Yt(e,t);function e(r,n){Wt(this,e);var o=Jt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.name="InvalidInputException",o.symbology=r,o.input=n,o.message='"'+o.input+'" is not a valid input for '+o.symbology,o}return e}(Error),yc=function(t){Yt(e,t);function e(){Wt(this,e);var r=Jt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.name="InvalidElementException",r.message="Not supported type to render on",r}return e}(Error),xc=function(t){Yt(e,t);function e(){Wt(this,e);var r=Jt(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.name="NoElementException",r.message="No element to render on.",r}return e}(Error);Ce.InvalidInputException=bc;Ce.InvalidElementException=yc;Ce.NoElementException=xc;Object.defineProperty(Ut,"__esModule",{value:!0});var wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec=qt,yt=sr(Ec),$c=Vt,Ne=sr($c),Oc=Ce;function sr(t){return t&&t.__esModule?t:{default:t}}function Zt(t){if(typeof t=="string")return Sc(t);if(Array.isArray(t)){for(var e=[],r=0;r<t.length;r++)e.push(Zt(t[r]));return e}else{if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLImageElement)return Cc(t);if(t&&t.nodeName&&t.nodeName.toLowerCase()==="svg"||typeof SVGElement<"u"&&t instanceof SVGElement)return{element:t,options:(0,yt.default)(t),renderer:Ne.default.SVGRenderer};if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement)return{element:t,options:(0,yt.default)(t),renderer:Ne.default.CanvasRenderer};if(t&&t.getContext)return{element:t,renderer:Ne.default.CanvasRenderer};if(t&&(typeof t>"u"?"undefined":wc(t))==="object"&&!t.nodeName)return{element:t,renderer:Ne.default.ObjectRenderer};throw new Oc.InvalidElementException}}function Sc(t){var e=document.querySelectorAll(t);if(e.length!==0){for(var r=[],n=0;n<e.length;n++)r.push(Zt(e[n]));return r}}function Cc(t){var e=document.createElement("canvas");return{element:e,options:(0,yt.default)(t),renderer:Ne.default.CanvasRenderer,afterRender:function(){t.setAttribute("src",e.toDataURL())}}}Ut.default=Zt;var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0});var kc=function(){function t(e,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function Pc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Ac=function(){function t(e){Pc(this,t),this.api=e}return kc(t,[{key:"handleCatch",value:function(r){if(r.name==="InvalidInputException")if(this.api._options.valid!==this.api._defaults.valid)this.api._options.valid(!1);else throw r.message;else throw r;this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(r){try{var n=r.apply(void 0,arguments);return this.api._options.valid(!0),n}catch(o){return this.handleCatch(o),this.api}}}]),t}();Kt.default=Ac;var Tc=Et,fe=le(Tc),Ic=Se,Fe=le(Ic),Rc=Gt,dr=le(Rc),Mc=Ft,Dn=le(Mc),Dc=Ut,Bc=le(Dc),Nc=rt,Lc=le(Nc),jc=Kt,Gc=le(jc),fr=Ce,Fc=ot,hr=le(Fc);function le(t){return t&&t.__esModule?t:{default:t}}var te=function(){},at=function(e,r,n){var o=new te;if(typeof e>"u")throw Error("No element to render on was provided.");return o._renderProperties=(0,Bc.default)(e),o._encodings=[],o._options=hr.default,o._errorHandler=new Gc.default(o),typeof r<"u"&&(n=n||{},n.format||(n.format=mr()),o.options(n)[n.format](r,n).render()),o};at.getModule=function(t){return fe.default[t]};for(var Bn in fe.default)fe.default.hasOwnProperty(Bn)&&Uc(fe.default,Bn);function Uc(t,e){te.prototype[e]=te.prototype[e.toUpperCase()]=te.prototype[e.toLowerCase()]=function(r,n){var o=this;return o._errorHandler.wrapBarcodeCall(function(){n.text=typeof n.text>"u"?void 0:""+n.text;var u=(0,Fe.default)(o._options,n);u=(0,Lc.default)(u);var l=t[e],c=vr(r,l,u);return o._encodings.push(c),o})}}function vr(t,e,r){t=""+t;var n=new e(t,r);if(!n.valid())throw new fr.InvalidInputException(n.constructor.name,t);var o=n.encode();o=(0,dr.default)(o);for(var u=0;u<o.length;u++)o[u].options=(0,Fe.default)(r,o[u].options);return o}function mr(){return fe.default.CODE128?"CODE128":Object.keys(fe.default)[0]}te.prototype.options=function(t){return this._options=(0,Fe.default)(this._options,t),this};te.prototype.blank=function(t){var e=new Array(t+1).join("0");return this._encodings.push({data:e}),this};te.prototype.init=function(){if(this._renderProperties){Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]);var t;for(var e in this._renderProperties){t=this._renderProperties[e];var r=(0,Fe.default)(this._options,t.options);r.format=="auto"&&(r.format=mr()),this._errorHandler.wrapBarcodeCall(function(){var n=r.value,o=fe.default[r.format.toUpperCase()],u=vr(n,o,r);xt(t,u,r)})}}};te.prototype.render=function(){if(!this._renderProperties)throw new fr.NoElementException;if(Array.isArray(this._renderProperties))for(var t=0;t<this._renderProperties.length;t++)xt(this._renderProperties[t],this._encodings,this._options);else xt(this._renderProperties,this._encodings,this._options);return this};te.prototype._defaults=hr.default;function xt(t,e,r){e=(0,dr.default)(e);for(var n=0;n<e.length;n++)e[n].options=(0,Fe.default)(r,e[n].options),(0,Dn.default)(e[n].options);(0,Dn.default)(r);var o=t.renderer,u=new o(t.element,e,r);u.render(),t.afterRender&&t.afterRender()}typeof window<"u"&&(window.JsBarcode=at);typeof jQuery<"u"&&(jQuery.fn.JsBarcode=function(t,e){var r=[];return jQuery(this).each(function(){r.push(this)}),at(r,t,e)});var qc=at;const Vc=Vr(qc),zc={class:"breadcrumb mb-6 flex flex-wrap items-center gap-2"},Hc={key:0,class:"text-gray-500"},Xc=["onClick"],Qc={__name:"BreadcrumbNavigation",props:{breadcrumbs:{type:Array,default:()=>[]}},setup(t){return(e,r)=>(d(),h("div",zc,[a("span",{class:"text-[#b51919] cursor-pointer hover:underline",onClick:r[0]||(r[0]=n=>e.$emit("reset"))}," Home "),t.breadcrumbs.length?(d(),h("span",Hc,"/")):w("",!0),(d(!0),h(G,null,X(t.breadcrumbs,(n,o)=>(d(),h("span",{key:o,onClick:u=>e.$emit("navigate",o),class:"text-[#b51919] cursor-pointer hover:underline"},b(n),9,Xc))),128))]))}},Wc=a("h2",{class:"text-xl font-bold mb-2"},"Cart",-1),Jc={key:0,class:"text-gray-500 text-center text-base"},Yc={key:1},Zc={class:"w-full text-base"},Kc=a("thead",null,[a("tr",{class:"border-b"},[a("th",{class:"text-left py-2"},"Product"),a("th",{class:"text-left py-2"},"Qty"),a("th",{class:"text-left py-2"},"Price"),a("th",{class:"text-left py-2"},"Disc."),a("th",{class:"text-left py-2"},"Total"),a("th",{class:"text-center py-2"},"Act")])],-1),es={class:"py-2"},ts={class:"py-2"},ns={key:0,class:"flex items-center space-x-2"},rs=["onClick"],os=["onUpdate:modelValue","onInput"],as=["onClick"],is=["onClick"],us={key:1,class:"flex items-center space-x-2"},ls={class:"text-lg"},cs=["onClick"],ss={class:"py-2"},ds=["onClick"],fs={class:"py-2"},hs=["onClick"],vs={class:"py-2 text-lg"},ms={class:"py-2 text-center"},_s={class:"mt-4 text-lg"},ps=a("strong",null,"Subtotal:",-1),gs={class:"mt-2 flex items-center gap-2"},bs=a("label",{for:"discountAllItemsPercent",class:"font-bold"}," Discount All (%): ",-1),ys={class:"mt-2 flex items-center gap-2"},xs=a("label",{for:"discountEntireSale",class:"font-bold"}," Sale Discount: ",-1),ws={class:"mt-4 text-2xl font-bold"},_r={__name:"CartTable",props:{cart:Array,discountAllItemsPercent:Number,discountEntireSale:Number,subTotalBeforeGlobalDiscount:Number,totalCartAmount:Number},emits:["update:discountAllItemsPercent","update:discountEntireSale","openItemPriceModal","openItemDiscountModal","removeFromCart"],setup(t,{emit:e}){const r=t,n=x(null);we(()=>r.cart.length,(m,v)=>{m>v&&Ln(()=>{n.value&&(n.value.scrollTop=n.value.scrollHeight)})});const o=C({get:()=>r.discountAllItemsPercent,set:m=>e("update:discountAllItemsPercent",Number(m))}),u=C({get:()=>r.discountEntireSale,set:m=>e("update:discountEntireSale",Number(m))}),l=x({});function c(m){l.value[m]=!l.value[m]}function $(m){const v=r.cart[m];v.quantity=Number(v.quantity)+1}function R(m){const v=r.cart[m];v.quantity>1&&(v.quantity=Number(v.quantity)-1)}function y(m,v){const O=r.cart[m];let p=Number(v.target.value);p<1?O.quantity=1:O.quantity=Math.round(p)}return(m,v)=>(d(),h("div",null,[Wc,t.cart.length===0?(d(),h("div",Jc,"No items in cart")):(d(),h("div",Yc,[a("div",{class:"max-h-64 overflow-y-auto",ref_key:"cartContainer",ref:n},[a("table",Zc,[Kc,a("tbody",null,[(d(!0),h(G,null,X(t.cart,(O,p)=>(d(),h("tr",{key:O.id,class:"border-b"},[a("td",es,b(O.name),1),a("td",ts,[l.value[p]?(d(),h("div",ns,[a("button",{onClick:_=>R(p),class:"bg-red-500 text-white w-8 h-8 rounded-lg flex items-center justify-center text-lg"}," – ",8,rs),T(a("input",{type:"number","onUpdate:modelValue":_=>O.quantity=_,onInput:_=>y(p,_),class:"w-16 text-center text-lg font-bold border rounded-lg p-1",min:"1",step:"1"},null,40,os),[[I,O.quantity,void 0,{number:!0}]]),a("button",{onClick:_=>$(p),class:"bg-green-500 text-white w-8 h-8 rounded-lg flex items-center justify-center text-lg"}," + ",8,as),a("button",{onClick:_=>c(p),class:"bg-blue-500 w-16 h-8 rounded-lg flex items-center justify-center text-lg text-white"}," Done ",8,is)])):(d(),h("div",us,[a("span",ls,b(O.quantity),1),a("button",{onClick:_=>c(p),class:"text-lg text-blue-500 underline"}," Edit ",8,cs)]))]),a("td",ss,[a("a",{class:"text-[#b51919] hover:underline cursor-pointer text-lg",onClick:gt(_=>m.$emit("openItemPriceModal",p),["stop"])}," ₱"+b(Number(O.price).toFixed(2)),9,ds)]),a("td",fs,[a("a",{class:"text-[#b51919] hover:underline cursor-pointer text-lg",onClick:gt(_=>m.$emit("openItemDiscountModal",p),["stop"])}," ₱"+b(O.discount.toFixed(2)),9,hs)]),a("td",vs," ₱"+b(((O.price-O.discount)*O.quantity).toFixed(2)),1),a("td",ms,[Q(xe,{onClick:_=>m.$emit("removeFromCart",p),class:"hover:bg-red-700 bg-red-600 text-white rounded-lg cursor-pointer",path:P(Yr),size:"18"},null,8,["onClick","path"])])]))),128))])])],512),a("div",_s,[a("p",null,[ps,ee(" ₱"+b(t.subTotalBeforeGlobalDiscount.toFixed(2)),1)]),a("p",gs,[bs,T(a("input",{id:"discountAllItemsPercent","onUpdate:modelValue":v[0]||(v[0]=O=>o.value=O),type:"number",min:"0",max:"100",class:"w-16 p-2 border rounded text-lg"},null,512),[[I,o.value,void 0,{number:!0}]]),ee(" % ")]),a("p",ys,[xs,T(a("input",{id:"discountEntireSale","onUpdate:modelValue":v[1]||(v[1]=O=>u.value=O),type:"number",min:"0",class:"w-16 p-2 border rounded text-lg"},null,512),[[I,u.value,void 0,{number:!0}]])]),a("div",ws,"Total: ₱"+b(t.totalCartAmount.toFixed(2)),1)])]))]))}};const Es={key:0,class:"sticky top-0 z-50 bg-white shadow p-2"},$s={class:"mb-2 text-center"},Os={key:0,class:"mb-2 text-center overflow-x-auto whitespace-nowrap"},Ss=["onClick"],Cs={key:1,class:"relative px-4 mb-3"},ks={key:0,class:"absolute bg-white border rounded mt-1 w-full z-10"},Ps=["onClick"],As={key:2,class:"mb-6 mx-4"},Ts={class:"bg-white rounded-lg shadow-lg p-6 border border-gray-200"},Is={key:3},Rs={key:0,class:"grid grid-cols-2 md:grid-cols-3 gap-2"},Ms=["src"],Ds={class:"font-bold text-lg text-center"},Bs={class:"text-lg text-gray-600"},Ns=["onClick"],Ls={class:"text-lg font-bold"},js=["onClick"],Gs=["src"],Fs=["src"],Us={class:"font-bold text-lg text-center"},qs={class:"text-lg text-gray-600"},Vs=["onClick"],zs={class:"text-lg font-bold"},Hs={key:3,class:"col-span-full text-center text-gray-500 text-lg"},Xs={key:0,class:"text-center text-lg text-gray-500"},Qs={key:1},Ws=["onClick"],Js=["src"],Ys=["src"],Zs={class:"font-bold text-lg text-center"},Ks={class:"text-lg text-gray-600"},ed={key:0,class:"col-span-full text-center text-gray-500 text-lg"},td={__name:"ProductGrid",props:{searchQuery:String,categories:Array,currentCategory:String,breadcrumbs:Array,singleGlobalSingleMatch:Object,filteredCategories:Array,filteredProducts:Array,visibleSubcategories:Array,isInCart:Function,showGrid:Boolean,cart:Array,discountAllItemsPercent:Number,discountEntireSale:Number,subTotalBeforeGlobalDiscount:Number,totalCartAmount:Number},emits:["selectCategory","toggleProduct","openItemPriceModal","openItemDiscountModal","removeFromCart","update:discountAllItemsPercent","update:discountEntireSale"],setup(t,{emit:e}){const r=t,n=x("category");function o(p){n.value=p,u.isLoaded||u.fetchItems()}const u=Jr(),l=C(()=>u.items.data.slice().sort((p,_)=>p.name.localeCompare(_.name))),c=x("All"),$=C(()=>{const p=new Set;return l.value.forEach(_=>{_.name&&typeof _.name=="string"&&p.add(_.name.charAt(0).toUpperCase())}),Array.from(p).sort()}),R=C(()=>["All",...$.value]),y=C(()=>{let p=l.value;if(c.value!=="All"&&(p=p.filter(_=>_.name.charAt(0).toUpperCase()===c.value)),r.searchQuery){const _=r.searchQuery.toLowerCase();p=p.filter(f=>f.name.toLowerCase().includes(_))}return p}),m=x(""),v=C(()=>{const p=m.value.trim().toLowerCase();return p?l.value.filter(_=>{const f=_.name.toLowerCase().includes(p),A=_.barcode?_.barcode.toLowerCase().includes(p):!1,M=_.sku?_.sku.toLowerCase().includes(p):!1;return f||A||M}):[]});we(m,p=>{if(p&&v.value.length===1){const _=v.value[0];e("toggleProduct",_),m.value=""}});function O(p){e("toggleProduct",p),m.value=""}return jn(async()=>{u.fetchItems()}),(p,_)=>(d(),h("div",null,[t.showGrid?w("",!0):(d(),h("div",Es,[a("div",$s,[a("button",{onClick:_[0]||(_[0]=f=>o("category")),class:ie([{"bg-blue-500 text-white":n.value==="category","bg-gray-300 text-black":n.value!=="category"},"px-4 py-2 rounded-lg text-lg mr-2"])}," Open by Category ",2),a("button",{onClick:_[1]||(_[1]=f=>o("product")),class:ie([{"bg-blue-500 text-white":n.value==="product","bg-gray-300 text-black":n.value!=="product"},"px-4 py-2 rounded-lg text-lg"])}," Open by Product ",2)]),n.value==="product"&&!P(u).isLoading?(d(),h("div",Os,[(d(!0),h(G,null,X(R.value,f=>(d(),h("button",{key:f,onClick:A=>c.value=f,class:ie([{"bg-blue-500 text-white":c.value===f,"bg-gray-300 text-black":c.value!==f},"px-4 py-2 rounded-lg text-lg mx-1 inline-block"])},b(f),11,Ss))),128))])):w("",!0)])),t.showGrid?(d(),h("div",Cs,[T(a("input",{type:"text","onUpdate:modelValue":_[2]||(_[2]=f=>m.value=f),placeholder:"Enter item name, sku code or scan barcode...",class:"w-full p-2 border rounded"},null,512),[[I,m.value]]),v.value.length?(d(),h("div",ks,[(d(!0),h(G,null,X(v.value,f=>(d(),h("div",{key:f.id,class:"p-2 hover:bg-gray-100 cursor-pointer",onClick:A=>O(f)},b(f.name),9,Ps))),128))])):w("",!0)])):w("",!0),t.showGrid?(d(),h("div",As,[a("div",Ts,[Q(_r,{cart:t.cart,discountAllItemsPercent:t.discountAllItemsPercent,discountEntireSale:t.discountEntireSale,subTotalBeforeGlobalDiscount:t.subTotalBeforeGlobalDiscount,totalCartAmount:t.totalCartAmount,onOpenItemPriceModal:_[3]||(_[3]=f=>p.$emit("openItemPriceModal",f)),onOpenItemDiscountModal:_[4]||(_[4]=f=>p.$emit("openItemDiscountModal",f)),onRemoveFromCart:_[5]||(_[5]=f=>p.$emit("removeFromCart",f)),"onUpdate:discountAllItemsPercent":_[6]||(_[6]=f=>p.$emit("update:discountAllItemsPercent",f)),"onUpdate:discountEntireSale":_[7]||(_[7]=f=>p.$emit("update:discountEntireSale",f))},null,8,["cart","discountAllItemsPercent","discountEntireSale","subTotalBeforeGlobalDiscount","totalCartAmount"])])])):w("",!0),t.showGrid?w("",!0):(d(),h("div",Is,[n.value==="category"?(d(),h(G,{key:0},[t.singleGlobalSingleMatch?(d(),h("div",Rs,[a("div",{class:ie(["p-4 bg-white rounded shadow cursor-pointer hover:shadow-lg flex flex-col items-center",{"bg-red-100":t.isInCart(t.singleGlobalSingleMatch)}]),onClick:_[8]||(_[8]=f=>p.$emit("toggleProduct",t.singleGlobalSingleMatch))},[a("img",{src:`https://ui-avatars.com/api/?name=${encodeURIComponent(t.singleGlobalSingleMatch.name)}`,alt:"Product Image",class:"w-16 h-16 rounded-full mb-2"},null,8,Ms),a("h3",Ds,b(t.singleGlobalSingleMatch.name),1),a("p",Bs,"₱"+b(t.singleGlobalSingleMatch.price.toFixed(2)),1)],2)])):(d(),K(wn,{key:1,name:"fade",tag:"div",class:"grid grid-cols-2 md:grid-cols-3 gap-2"},{default:We(()=>[t.visibleSubcategories.length?(d(!0),h(G,{key:0},X(t.visibleSubcategories,f=>(d(),h("div",{key:f.name,class:"p-4 bg-white rounded shadow cursor-pointer hover:shadow-lg text-center",onClick:A=>p.$emit("selectCategory",f)},[a("h2",Ls,b(f.name),1)],8,Ns))),128)):w("",!0),t.filteredProducts.length?(d(!0),h(G,{key:1},X(t.filteredProducts,f=>(d(),h("div",{key:f.id,class:ie(["p-4 bg-white rounded shadow cursor-pointer hover:shadow-lg flex flex-col items-center",{"bg-red-100":t.isInCart(f)}]),onClick:A=>p.$emit("toggleProduct",f)},[f.image?(d(),h("img",{key:0,src:f.image,alt:"Product Image",class:"w-16 h-16 rounded-full mb-2"},null,8,Gs)):(d(),h("img",{key:1,src:`https://ui-avatars.com/api/?name=${encodeURIComponent(f.name)}`,alt:"Product Image",class:"w-16 h-16 rounded-full mb-2"},null,8,Fs)),a("h3",Us,b(f.name),1),a("p",qs,"₱"+b(f.price.toFixed(2)),1)],10,js))),128)):w("",!0),t.currentCategory?w("",!0):(d(!0),h(G,{key:2},X(t.filteredCategories,f=>(d(),h("div",{key:f.name,class:"p-4 bg-white rounded shadow cursor-pointer hover:shadow-lg text-center",onClick:A=>p.$emit("selectCategory",f)},[a("h2",zs,b(f.name),1)],8,Vs))),128)),t.searchQuery&&!t.filteredCategories.length&&!t.filteredProducts.length&&!t.visibleSubcategories.length?(d(),h("div",Hs,' No results found for "'+b(t.searchQuery)+'" ',1)):w("",!0)]),_:1}))],64)):n.value==="product"?(d(),h(G,{key:1},[P(u).isLoading?(d(),h("div",Xs," Loading products... ")):(d(),h("div",Qs,[Q(wn,{name:"fade",tag:"div",class:"grid grid-cols-2 md:grid-cols-3 gap-2"},{default:We(()=>[(d(!0),h(G,null,X(y.value,f=>(d(),h("div",{key:f.id,class:ie(["p-4 bg-white rounded shadow cursor-pointer hover:shadow-lg flex flex-col items-center",{"bg-red-100":t.isInCart(f)}]),onClick:A=>p.$emit("toggleProduct",f)},[f.image?(d(),h("img",{key:0,src:f.image,alt:"Product Image",class:"w-16 h-16 rounded-full mb-2"},null,8,Js)):(d(),h("img",{key:1,src:`https://ui-avatars.com/api/?name=${encodeURIComponent(f.name)}`,alt:"Product Image",class:"w-16 h-16 rounded-full mb-2"},null,8,Ys)),a("h3",Zs,b(f.name),1),a("p",Ks,"₱"+b(Number(f.price).toFixed(2)),1)],10,Ws))),128)),t.searchQuery&&y.value.length===0?(d(),h("div",ed,' No results found for "'+b(t.searchQuery)+'" ',1)):w("",!0)]),_:1})]))],64)):w("",!0)]))]))}},nd=wt(td,[["__scopeId","data-v-63a64b0f"]]);const ne=t=>(Gn("data-v-2d5878ca"),t=t(),Fn(),t),rd={class:"mb-4"},od=ne(()=>a("h2",{class:"text-xl font-bold mb-2"},"Customer",-1)),ad={class:"flex items-center space-x-2"},id={class:"relative w-full"},ud={key:0,class:"absolute z-10 bg-white border rounded mt-1 w-full text-base max-h-40 overflow-y-auto"},ld=["onClick"],cd={key:0},sd={class:"mt-6"},dd=ne(()=>a("h2",{class:"text-xl font-bold mb-3"},"Payment",-1)),fd={class:"mb-4"},hd=ne(()=>a("label",{class:"block text-lg font-medium mb-2"},"Payment Type",-1)),vd={class:"flex flex-wrap gap-2"},md=["onClick"],_d={class:"mb-4"},pd=ne(()=>a("label",{class:"block text-lg font-medium mb-2"},"Amount Due",-1)),gd=["value"],bd={key:0,class:"mb-4"},yd=ne(()=>a("label",{class:"block text-lg font-medium mb-2"},"Check Number",-1)),xd=ne(()=>a("label",{class:"block text-lg font-medium mb-2 mt-3"},"Bank Name",-1)),wd={key:1,class:"mb-4"},Ed=ne(()=>a("label",{class:"block text-lg font-medium mb-2"},"E-Wallet Ref/Code",-1)),$d={key:2,class:"mb-4"},Od=ne(()=>a("label",{class:"block text-lg font-medium mb-2"},"Transaction/Auth Code",-1)),Sd={key:3,class:"mb-4"},Cd=ne(()=>a("label",{class:"block text-lg font-medium mb-2"},"Bank Ref",-1)),kd={__name:"CartSidebar",props:{cart:Array,customerName:String,filteredCustomers:Array,discountAllItemsPercent:Number,discountEntireSale:Number,totalCartAmount:Number,paymentTypes:Array,selectedPaymentType:String,amountDue:Number,checkNumber:String,bankName:String,walletReference:String,cardAuthCode:String,bankReference:String,subTotalBeforeGlobalDiscount:Number,showCartTable:{type:Boolean,default:!0}},emits:["update:customerName","update:discountAllItemsPercent","update:discountEntireSale","update:selectedPaymentType","update:checkNumber","update:bankName","update:walletReference","update:cardAuthCode","update:bankReference","filterCustomers","selectCustomer","openCustomerModal","openItemPriceModal","openItemDiscountModal","removeFromCart","checkout","suspendSale","cancelSale","openSalesModal"],setup(t,{emit:e}){const r=t,n=C({get:()=>r.customerName,set:y=>e("update:customerName",y)}),o=C({get:()=>r.selectedPaymentType,set:y=>e("update:selectedPaymentType",y)}),u=C({get:()=>r.checkNumber,set:y=>e("update:checkNumber",y)}),l=C({get:()=>r.bankName,set:y=>e("update:bankName",y)}),c=C({get:()=>r.walletReference,set:y=>e("update:walletReference",y)}),$=C({get:()=>r.cardAuthCode,set:y=>e("update:cardAuthCode",y)}),R=C({get:()=>r.bankReference,set:y=>e("update:bankReference",y)});return(y,m)=>(d(),h("div",{class:ie(`cart-sidebar bg-white shadow-lg p-4 border-l w-full md:sticky md:top-0 transition-all duration-300 ${t.showCartTable?"md:w-1/5":"md:w-2/5"}`)},[a("div",rd,[od,a("div",ad,[a("div",id,[T(a("input",{"onUpdate:modelValue":m[0]||(m[0]=v=>n.value=v),type:"text",placeholder:"Customer",class:"w-full p-2 border rounded text-base",onInput:m[1]||(m[1]=v=>y.$emit("filterCustomers"))},null,544),[[I,n.value]]),t.filteredCustomers&&t.filteredCustomers.length?(d(),h("ul",ud,[(d(!0),h(G,null,X(t.filteredCustomers,v=>(d(),h("li",{key:v.id,class:"p-2 hover:bg-gray-100 cursor-pointer",onClick:O=>y.$emit("selectCustomer",v)},b(v.first_name)+" "+b(v.last_name),9,ld))),128))])):w("",!0)]),a("button",{onClick:m[2]||(m[2]=v=>y.$emit("openCustomerModal")),class:"py-2 px-4 text-white rounded-lg hover:bg-red-700 bg-red-600"},[Q(xe,{path:P(Zr),size:"18"},null,8,["path"])])])]),t.showCartTable?w("",!0):(d(),h("div",cd,[Q(_r,{cart:t.cart,discountAllItemsPercent:t.discountAllItemsPercent,discountEntireSale:t.discountEntireSale,subTotalBeforeGlobalDiscount:t.subTotalBeforeGlobalDiscount,totalCartAmount:t.totalCartAmount,onOpenItemPriceModal:m[3]||(m[3]=v=>y.$emit("openItemPriceModal",v)),onOpenItemDiscountModal:m[4]||(m[4]=v=>y.$emit("openItemDiscountModal",v)),onRemoveFromCart:m[5]||(m[5]=v=>y.$emit("removeFromCart",v)),"onUpdate:discountAllItemsPercent":m[6]||(m[6]=v=>y.$emit("update:discountAllItemsPercent",v)),"onUpdate:discountEntireSale":m[7]||(m[7]=v=>y.$emit("update:discountEntireSale",v))},null,8,["cart","discountAllItemsPercent","discountEntireSale","subTotalBeforeGlobalDiscount","totalCartAmount"])])),a("div",sd,[dd,a("div",fd,[hd,a("div",vd,[(d(!0),h(G,null,X(t.paymentTypes,v=>(d(),h("button",{key:v,onClick:O=>o.value=v,class:ie(["py-2 px-4 border rounded-lg text-center text-lg min-w-[100px]",o.value===v?"bg-[#b51919] text-white border-[#b51919]":"bg-gray-200 text-gray-800 border-gray-300"])},b(v),11,md))),128))])]),a("div",_d,[pd,a("input",{type:"number",class:"p-2 border rounded w-full text-lg",value:t.amountDue,min:"0",step:"0.01",readonly:""},null,8,gd)]),o.value==="Check"?(d(),h("div",bd,[yd,T(a("input",{type:"text",class:"w-full p-2 border rounded text-lg","onUpdate:modelValue":m[8]||(m[8]=v=>u.value=v),placeholder:"Enter check number"},null,512),[[I,u.value]]),xd,T(a("input",{type:"text",class:"w-full p-2 border rounded text-lg","onUpdate:modelValue":m[9]||(m[9]=v=>l.value=v),placeholder:"Enter bank name"},null,512),[[I,l.value]])])):o.value==="E-Wallet"?(d(),h("div",wd,[Ed,T(a("input",{type:"text",class:"w-full p-2 border rounded text-lg","onUpdate:modelValue":m[10]||(m[10]=v=>c.value=v),placeholder:"Enter e-wallet ref/code"},null,512),[[I,c.value]])])):o.value==="Credit Card"||o.value==="Debit Card"?(d(),h("div",$d,[Od,T(a("input",{type:"text",class:"w-full p-2 border rounded text-lg","onUpdate:modelValue":m[11]||(m[11]=v=>$.value=v),placeholder:"Enter auth code"},null,512),[[I,$.value]])])):o.value==="Bank"?(d(),h("div",Sd,[Cd,T(a("input",{type:"text",class:"w-full p-2 border rounded text-lg","onUpdate:modelValue":m[12]||(m[12]=v=>R.value=v),placeholder:"Enter bank ref"},null,512),[[I,R.value]])])):w("",!0),a("button",{onClick:m[13]||(m[13]=v=>y.$emit("checkout")),class:"w-full mt-4 py-3 px-6 bg-red-600 text-white rounded-lg text-lg hover:bg-red-700 font-bold"}," Checkout ")])],2))}},Pd=wt(kd,[["__scopeId","data-v-2d5878ca"]]),Ad={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4"},Td={class:"bg-white p-6 rounded-lg md:w-1/3 w-full max-w-md"},Id=a("h2",{class:"text-xl font-bold mb-4"},"Add Customer",-1),Rd=["onSubmit"],Md={class:"mb-4"},Dd=a("label",{class:"block text-sm font-medium mb-1"},"First Name",-1),Bd={class:"mb-4"},Nd=a("label",{class:"block text-sm font-medium mb-1"},"Last Name",-1),Ld={class:"mb-4"},jd=a("label",{class:"block text-sm font-medium mb-1"},"Email",-1),Gd={class:"mb-4"},Fd=a("label",{class:"block text-sm font-medium mb-1"},"Phone",-1),Ud={key:0,class:"mb-4 text-red-500 text-sm"},qd={class:"flex justify-end gap-2"},Vd=["disabled"],zd=["disabled"],Hd={__name:"CustomerModal",emits:["saveCustomer","close"],setup(t,{emit:e}){const r=qn(),n=Un({first_name:"",last_name:"",email:"",phone:""});async function o(){try{await r.createItem({...n}),e("saveCustomer",{...n}),r.error||e("close")}catch(u){console.error("Failed to save customer:",u)}}return(u,l)=>(d(),h("div",Ad,[a("div",Td,[Id,a("form",{onSubmit:gt(o,["prevent"])},[a("div",Md,[Dd,T(a("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>n.first_name=c),type:"text",placeholder:"Customer First Name",class:"w-full p-2 border rounded",required:""},null,512),[[I,n.first_name]])]),a("div",Bd,[Nd,T(a("input",{"onUpdate:modelValue":l[1]||(l[1]=c=>n.last_name=c),type:"text",placeholder:"Customer Last Name",class:"w-full p-2 border rounded",required:""},null,512),[[I,n.last_name]])]),a("div",Ld,[jd,T(a("input",{"onUpdate:modelValue":l[2]||(l[2]=c=>n.email=c),type:"email",placeholder:"Customer Email",class:"w-full p-2 border rounded",required:""},null,512),[[I,n.email]])]),a("div",Gd,[Fd,T(a("input",{"onUpdate:modelValue":l[3]||(l[3]=c=>n.phone=c),type:"text",placeholder:"Customer Phone",class:"w-full p-2 border rounded",required:""},null,512),[[I,n.phone]])]),P(r).error?(d(),h("div",Ud,b(P(r).error),1)):w("",!0),a("div",qd,[a("button",{type:"button",onClick:l[4]||(l[4]=c=>e("close")),class:"p-2 bg-gray-500 text-white rounded hover:bg-gray-600",disabled:P(r).isLoading}," Cancel ",8,Vd),a("button",{type:"submit",class:"p-2 bg-[#b51919] text-white rounded hover:bg-[#a31818]",disabled:P(r).isLoading},b(P(r).isLoading?"Saving...":"Save"),9,zd)])],40,Rd)])]))}},Xd={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4"},Qd={class:"bg-white p-6 rounded-lg md:w-1/3 w-full max-w-md"},Wd={class:"text-xl font-bold mb-4"},Jd={class:"mb-4 flex items-center gap-2"},Yd={class:"block text-sm font-medium"},Zd={class:"flex justify-end gap-2"},Nn={__name:"EditItemModal",props:{type:String,value:Number},emits:["save","close"],setup(t,{emit:e}){const r=t,n=x(r.value);we(()=>r.value,u=>{n.value=u});function o(){e("save",n.value)}return(u,l)=>(d(),h("div",Xd,[a("div",Qd,[a("h2",Wd,"Edit "+b(t.type==="discount"?"Discount":"Price"),1),a("div",Jd,[a("label",Yd,b(t.type==="discount"?"Discount Amount (₱):":"New Price (₱):"),1),T(a("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>n.value=c),type:"number",min:"0",step:"0.01",class:"p-2 border rounded flex-1"},null,512),[[I,n.value,void 0,{number:!0}]])]),a("div",Zd,[a("button",{type:"button",onClick:l[1]||(l[1]=c=>u.$emit("close")),class:"p-2 bg-gray-500 text-white rounded hover:bg-gray-600"}," ✘ "),a("button",{type:"button",onClick:o,class:"p-2 bg-[#b51919] text-white rounded hover:bg-[#a31818]"}," ✓ ")])])]))}},Kd={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4"},ef={class:"bg-white p-6 rounded-lg md:w-2/3 w-full max-w-6xl max-h-[80vh] overflow-y-auto"},tf={class:"flex flex-wrap md:flex-nowrap justify-between items-center mb-4"},nf=a("h2",{class:"text-xl font-bold"},"All Sales",-1),rf={class:"flex flex-wrap gap-2 mb-4"},of={class:"flex items-center gap-1"},af=a("label",{class:"text-sm"},"From:",-1),uf={class:"flex items-center gap-1"},lf=a("label",{class:"text-sm"},"To:",-1),cf={class:"flex gap-2"},sf=["onClick"],df=["onClick"],ff=["onClick"],hf={__name:"SalesModal",emits:["close","unsuspendSale","voidSale","printSale","edit"],setup(t,{emit:e}){const r=x(""),n=x(""),o=x(""),u=Vn();async function l(f,A=!1){await u.fetchItems(f,A)}l({page:1,limit:5});const c=C(()=>({total:u.items.total,totalPages:u.items.totalPages,currentPage:u.items.currentPage,pageSize:u.items.pageSize,data:u.items.data}));function $(f){return f?new Date(f).toLocaleString():""}const R=[{key:"id",label:"ID",sortable:!0},{key:"created_at",label:"Date",formatter:f=>$(f),sortable:!0},{key:"customer_name",label:"Customer",sortable:!0,filterable:!0},{key:"status",label:"Status",sortable:!0,filterable:!0},{key:"payment_type",label:"Type",sortable:!0,filterable:!0},{key:"total_amount",label:"Total",formatter:f=>`₱${(Number(f)||0).toFixed(2)}`,sortable:!0}];we([r,n,o],()=>{const f={page:1,limit:5,filters:{search:r.value,start_date:n.value,end_date:o.value}};l(f,!0)});const y=async f=>{await l(f,!0)};function m(f){e("edit",f)}function v(f){e("unsuspendSale",f)}function O(f){e("voidSale",f)}function p(f){e("printSale",f)}function _(){e("close")}return(f,A)=>(d(),h("div",Kd,[a("div",ef,[P(u).error?(d(),K(ao,{key:0,icon:P(Kr),color:"danger"},{default:We(()=>[ee(b(P(u).error),1)]),_:1},8,["icon"])):w("",!0),a("div",tf,[nf,a("button",{type:"button",onClick:_,class:"p-2 bg-red-500 text-white rounded hover:bg-red-600"},[Q(xe,{path:P(eo),size:"16"},null,8,["path"])])]),a("div",rf,[T(a("input",{"onUpdate:modelValue":A[0]||(A[0]=M=>r.value=M),type:"text",placeholder:"Search by ID, Customer Name, etc.",class:"p-2 border rounded flex-1"},null,512),[[I,r.value]]),a("div",of,[af,T(a("input",{"onUpdate:modelValue":A[1]||(A[1]=M=>n.value=M),type:"date",class:"p-1 border rounded"},null,512),[[I,n.value]])]),a("div",uf,[lf,T(a("input",{"onUpdate:modelValue":A[2]||(A[2]=M=>o.value=M),type:"date",class:"p-1 border rounded"},null,512),[[I,o.value]])])]),Q(oo,{columns:R,data:c.value,checkable:!1,loading:P(u).isLoading,onQueryChange:y,onEdit:m},{"cell-actions":We(({row:M})=>[a("div",cf,[M.status==="suspended"?(d(),h("button",{key:0,onClick:B=>v(M),class:"px-2 py-1 bg-green-600 text-white rounded hover:bg-green-700"}," Unsuspend ",8,sf)):w("",!0),M.status!=="voided"?(d(),h("button",{key:1,onClick:B=>O(M),class:"px-2 py-1 bg-red-600 text-white rounded hover:bg-red-700"}," Void ",8,df)):w("",!0),a("button",{onClick:B=>p(M),class:"px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700"}," Print ",8,ff)])]),_:1},8,["data","loading"])])]))}},vf={class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4"},mf={class:"bg-white p-6 rounded-lg md:w-1/3 w-full max-w-md",id:"receiptContainer"},_f=a("h2",{class:"text-xl font-bold mb-4"},"Transaction Receipt",-1),pf=a("strong",null,"Transaction ID:",-1),gf=a("div",{class:"my-4 text-center"},[a("svg",{id:"barcodeElement"})],-1),bf={class:"text-sm mb-4"},yf=a("strong",null,"Customer:",-1),xf=a("strong",null,"Payment Type:",-1),wf=a("strong",null,"Amount Due:",-1),Ef=a("strong",null,"Status:",-1),$f={key:0,class:"font-mono text-xs mb-4"},Of=Hr('<div class="flex border-b pb-1"><div class="w-40">Item</div><div class="w-16 text-right">Qty</div><div class="w-24 text-right">Price</div><div class="w-24 text-right">Disc</div><div class="w-24 text-right">Total</div></div>',1),Sf={class:"w-40 truncate"},Cf={class:"w-16 text-right"},kf={class:"w-24 text-right"},Pf={class:"w-24 text-right"},Af={class:"w-24 text-right"},Tf={class:"text-lg font-bold mb-4"},If={class:"flex justify-end gap-2 no-print"},Rf={type:"button",class:"p-2 bg-[#b51919] text-white rounded hover:bg-[#a31818]"},Mf={__name:"ReceiptModal",props:{transactionId:String,receiptData:Object,printOptions:Object},setup(t){return(e,r)=>{const n=zr("print");return d(),h("div",vf,[a("div",mf,[_f,a("p",null,[pf,ee(" "+b(t.transactionId),1)]),gf,a("div",bf,[a("p",null,[yf,ee(" "+b(t.receiptData.customerName||"N/A"),1)]),a("p",null,[xf,ee(" "+b(t.receiptData.paymentType),1)]),a("p",null,[wf,ee(" ₱"+b(t.receiptData.total),1)]),a("p",null,[Ef,ee(" "+b(t.receiptData.status),1)])]),t.receiptData.items&&t.receiptData.items.length?(d(),h("div",$f,[Of,(d(!0),h(G,null,X(t.receiptData.items,o=>{var u;return d(),h("div",{key:o.id,class:"flex"},[a("div",Sf,b(((u=o.item)==null?void 0:u.name)??o.name),1),a("div",Cf,b(o.quantity),1),a("div",kf,"₱"+b(o.price),1),a("div",Pf,"₱"+b(o.discount),1),a("div",Af,"₱"+b((o.price-o.discount)*o.quantity),1)])}),128))])):w("",!0),a("p",Tf,"Grand Total: ₱"+b(t.receiptData.total),1),a("div",If,[T((d(),h("button",Rf,[ee(" Print ")])),[[n,t.printOptions]]),a("button",{type:"button",onClick:r[0]||(r[0]=o=>e.$emit("close")),class:"p-2 bg-gray-500 text-white rounded hover:bg-gray-600"}," Close ")])])])}}};const en=t=>(Gn("data-v-a670b9d8"),t=t(),Fn(),t),Df={class:"pos-page bg-[#f8f8f8] min-h-screen flex flex-col"},Bf={key:0,class:"loading-screen flex flex-col items-center justify-center h-screen"},Nf=en(()=>a("h1",{class:"text-3xl font-bold"},"Loading...",-1)),Lf=[Nf],jf={key:1},Gf={key:0,class:"start-menu flex flex-col items-center justify-center h-screen"},Ff={class:"mb-8 text-center"},Uf=en(()=>a("h1",{class:"text-4xl font-bold"},"Welcome to the POS System",-1)),qf={class:"text-xl mt-2"},Vf={class:"text-xl mt-2 text-blue-500"},zf={key:1,class:"pos-ui flex flex-col"},Hf={class:"bg-white shadow-md p-6 flex items-center justify-between"},Xf=en(()=>a("h2",{class:"text-2xl font-semibold text-gray-800"},"Transaction In Progress",-1)),Qf={class:"text-sm text-gray-500"},Wf={class:"text-sm text-gray-500"},Jf={class:"flex items-center space-x-3"},Yf={class:"w-full mx-auto py-8 flex-1 flex flex-col md:flex-row p-4 md:p-8"},Zf={class:"flex-1"},Kf={key:0},e1={key:0,class:"mb-4"},t1={class:"text-2xl font-bold mb-4"},n1={class:"mb-6"},r1={__name:"POSView",setup(t){const e=Xr.useLoading(),r=io(),n=qn(),o=Vn(),u=uo(),l=lo(),c=Qr();r.showAllItems(),n.fetchItems();const $=x(!1),R=x(!0),y=x(null);x(null);const m=async()=>{$.value=!0;try{const{value:i}=await k.fire({title:"Enter Opening Cash Amount",input:"number",inputLabel:"Opening Cash Amount",inputPlaceholder:"Enter amount (e.g., 100.00)",inputAttributes:{min:0,step:"0.01"},showCancelButton:!0,confirmButtonText:"Start Transaction",cancelButtonText:"Cancel",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"});if(i===void 0||i===""){$.value=!1;return}const s={userId:1,branchId:1,start_time:new Date,status:"open",opening_cash_amount:i},g=await u.createItem(s);y.value=g,k.fire({title:"Transaction Started",text:"New transaction has been started.",icon:"success",confirmButtonColor:"#3085d6"})}catch(i){k.fire({title:"Error",text:(i==null?void 0:i.message)||"Failed to start transaction.",icon:"error",confirmButtonColor:"#b51919"})}finally{$.value=!1}},v=async()=>{if(y.value){$.value=!0;try{const{value:i}=await k.fire({title:"Enter Closing Cash Amount",input:"number",inputLabel:"Closing Cash Amount",inputPlaceholder:"Enter amount (e.g., 150.00)",inputAttributes:{min:0,step:"0.01"},showCancelButton:!0,confirmButtonText:"End Transaction",cancelButtonText:"Cancel",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"});if(i===void 0||i===""){$.value=!1;return}const s=await o.getTotalForShift(y.value.id);await u.updateItem(y.value.id,{end_time:new Date,status:"closed",closing_cash_amount:i,cash_sales_total:s}),y.value=null,k.fire({title:"Transaction Ended",text:"The current transaction has been ended.",icon:"success",confirmButtonColor:"#3085d6"}),Re()}catch(i){k.fire({title:"Error",text:(i==null?void 0:i.message)||"Failed to end transaction.",icon:"error",confirmButtonColor:"#b51919"})}finally{$.value=!1}}},O=()=>{k.fire({title:"Close POS",text:"Are you sure you want to close the POS?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, close it!"}).then(i=>{i.isConfirmed&&window.close()})},p=async()=>{if(!y.value){k.fire({title:"Error",text:"No active shift found.",icon:"error",confirmButtonColor:"#b51919"});return}const{value:i}=await k.fire({title:"Add Cash",input:"number",inputLabel:"Enter cash amount to add",inputPlaceholder:"e.g., 50.00",inputAttributes:{min:0,step:"0.01"},showCancelButton:!0,confirmButtonText:"Add",cancelButtonText:"Cancel",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"});if(!(i===void 0||i===""))try{await l.createItem({shift_id:y.value.id,cash:Number(i),type:"in",remarks:"Cash added manually"}),k.fire({title:"Cash Added",text:`Successfully added ₱${Number(i).toFixed(2)} to the register.`,icon:"success",confirmButtonColor:"#3085d6"})}catch(s){k.fire({title:"Error",text:(s==null?void 0:s.message)||"Failed to add cash.",icon:"error",confirmButtonColor:"#b51919"})}},_=async()=>{if(!y.value){k.fire({title:"Error",text:"No active shift found.",icon:"error",confirmButtonColor:"#b51919"});return}const{value:i}=await k.fire({title:"Remove Cash",input:"number",inputLabel:"Enter cash amount to remove",inputPlaceholder:"e.g., 50.00",inputAttributes:{min:0,step:"0.01"},showCancelButton:!0,confirmButtonText:"Remove",cancelButtonText:"Cancel",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"});if(!(i===void 0||i===""))try{await l.createItem({shift_id:y.value.id,cash:Number(i),type:"out",remarks:"Cash removed manually"}),k.fire({title:"Cash Removed",text:`Successfully removed ₱${Number(i).toFixed(2)} from the register.`,icon:"success",confirmButtonColor:"#3085d6"})}catch(s){k.fire({title:"Error",text:(s==null?void 0:s.message)||"Failed to remove cash.",icon:"error",confirmButtonColor:"#b51919"})}},f=()=>{k.fire({title:"Cash Drawer Command Sent",text:"The cash drawer has been opened.",icon:"success",confirmButtonColor:"#3085d6"}).then(()=>{window.print()})},A=x(new Date().toLocaleString());let M=null;jn(async()=>{M=setInterval(()=>{A.value=new Date().toLocaleString()},1e3);try{await u.fetchItems({filters:{userId:1,status:"open"}}),u.items.data.length>0&&(y.value=u.items.data[0])}catch(i){console.error("Error checking existing shift:",i)}finally{R.value=!1}}),Wr(()=>{M&&clearInterval(M)});const B=x([]),W=x(null),z=x(""),D=x([]),ce=x([]),Ue=x([]);we(()=>{var i,s;return(s=(i=r.items)==null?void 0:i.data)==null?void 0:s.categories},i=>{ce.value=i||[]},{immediate:!0}),we(()=>{var i;return(i=n.items)==null?void 0:i.data},i=>{Ue.value=i||[]},{immediate:!0});const _e=x(!0);function pr(){_e.value=!_e.value}const it=x(!1),tn=x(""),Y=x(""),qe=x([]),ut=x(!1),re=x(0),Z=x(0),gr=x(["Cash","Check","Debit Card","Credit Card","E-Wallet","Bank"]),se=x(""),nn=C(()=>pe.value),ke=x(""),Pe=x(""),Ae=x(""),Te=x(""),Ie=x(""),lt=x(!1),ct=x(!1),st=x(!1),rn=x(""),oe=x(-1),on=x(0),an=x(0),ae=Un({id:"",date:"",customerName:"",items:[],total:0,paymentType:"",status:""}),br={id:"receiptContainer",style:`
    @page { size: A4; margin: 20mm; }
    @media print {
      .no-print { display: none !important; }
      html, body { margin: 0; padding: 0; width: 210mm; }
      #receiptContainer { width: 100%; margin: 0 auto; }
      table { width: 100%; border-collapse: collapse; }
      thead { display: table-header-group; }
      tfoot { display: table-footer-group; }
      tr { page-break-inside: avoid; }
      th, td { border: 1px solid #ddd; padding: 8px; text-align: left; vertical-align: middle; }
    }
  `},yr=C(()=>{const i=z.value.trim().toLowerCase();if(!i||$r(i))return null;const s=[],g=E=>{var de,U;(de=E.products)!=null&&de.length&&s.push(...E.products),(U=E.subcategories)!=null&&U.length&&E.subcategories.forEach(g)};ce.value.forEach(g);const H=s.filter(E=>E.name.toLowerCase().includes(i));return H.length===1?H[0]:null}),xr=C(()=>{if(!z.value)return ce.value;const i=z.value.toLowerCase();return ce.value.filter(s=>un(s,i))}),wr=C(()=>{var E,de;if(!W.value&&!z.value)return[];const i=ln();if(!i)return[];let s=((E=i.products)==null?void 0:E.slice())||[];(de=i.subcategories)!=null&&de.length&&i.subcategories.forEach(U=>{var xn;(xn=U.products)!=null&&xn.length&&(s=s.concat(U.products))});const g=Array.from(new Map(s.map(U=>[U.id,U])).values());if(!z.value)return g;const H=z.value.toLowerCase();return g.filter(U=>U.name.toLowerCase().includes(H))}),Er=C(()=>{const i=ln();if(!i||!i.subcategories)return[];const s=z.value.toLowerCase();return i.subcategories.filter(g=>g.name.toLowerCase().includes(s))}),dt=C(()=>D.value.reduce((i,s)=>i+(s.price-s.discount)*s.quantity,0)),pe=C(()=>{let i=dt.value;return re.value>0&&(i*=1-re.value/100),Z.value>0&&(i-=Z.value),i<0?0:i});function $r(i){const s=g=>{var H;return g.name.toLowerCase().includes(i)?!0:(H=g.subcategories)!=null&&H.length?g.subcategories.some(s):!1};return ce.value.some(s)}function un(i,s){return i.name.toLowerCase().includes(s)||i.products&&i.products.some(g=>g.name.toLowerCase().includes(s))||i.subcategories&&i.subcategories.some(g=>un(g,s))}function ln(){let i=ce.value,s=null;for(const g of B.value){if(s=i.find(H=>H.name===g),!s)return{};i=s.subcategories||[]}return s||{}}function Or(i){B.value.push(i.name),W.value=i.name}function Sr(){B.value.pop(),W.value=B.value[B.value.length-1]||null}function Cr(i){B.value.splice(i+1),W.value=B.value[B.value.length-1]||null}function kr(){B.value=[],W.value=null}const Ve=x(!1);function Pr(){document.fullscreenElement?document.exitFullscreen().then(()=>{Ve.value=!1}).catch(i=>{console.error("Error attempting to exit full-screen mode:",i)}):document.documentElement.requestFullscreen().then(()=>{Ve.value=!0}).catch(i=>{console.error("Error attempting to enable full-screen mode:",i)})}document.addEventListener("fullscreenchange",()=>{Ve.value=!!document.fullscreenElement});function cn(){Re()}function sn(){fn("suspend")}function Ar(i){return D.value.some(s=>s.id===i.id)}function Tr(i){const s=D.value.find(g=>g.id===i.id);s?s.quantity+=1:D.value.push({...i,quantity:1,discount:0})}function dn(i){D.value.splice(i,1)}async function fn(i="complete"){if(!se.value){k.fire({title:"Error",text:"Please select a payment type.",icon:"error",confirmButtonColor:"#b51919"});return}const s=e.show({isFullPage:!0,canCancel:!1,color:"#3b82f6",opacity:.8}),g=Date.now().toString(),H={user_id:1,branch_id:1,warehouse_id:1,shift_id:y.value.id,customer_id:tn.value||null,customer_name:Y.value,status:i==="complete"?"completed":"suspended",sale_date:new Date().toISOString(),total_amount:pe.value,discount_total:Z.value||0,remarks:i==="complete"?"Sale transaction":"Suspended sale",payment_type:se.value,checkNumber:i==="complete"&&ke.value||null,bankName:i==="complete"&&Pe.value||null,walletReference:i==="complete"&&Ae.value||null,cardAuthCode:i==="complete"&&Te.value||null,bankReference:i==="complete"&&Ie.value||null,items:D.value.map(E=>({item_id:E.id,price:E.price,quantity:E.quantity,discount:E.discount,total:(E.price-E.discount)*E.quantity}))};try{const E=await o.createItem(H);if(!E||E.error)throw new Error((E==null?void 0:E.error)||"Unknown error occurred");s.hide();const de=i==="complete"?"Checkout successful!":"Sale suspended!",U=i==="complete"?`
        <div style="text-align: left">
          <p><strong>Payment:</strong> ${se.value}</p>
          <p><strong>Due:</strong> ₱${nn.value.toFixed(2)}</p>
          <p><strong>Cart:</strong> ₱${pe.value.toFixed(2)}</p>
        </div>
      `:`
        <div style="text-align: left">
          <p><strong>Cart Total:</strong> ₱${pe.value.toFixed(2)}</p>
          <p>This sale has been suspended and can be resumed later.</p>
        </div>
      `;k.fire({title:de,html:U,icon:"success",confirmButtonColor:"#b51919"}).then(()=>{i==="complete"&&(rn.value=g,pn(E)),Re()})}catch(E){s.hide(),console.error("Checkout error:",E),k.fire({title:"Checkout Failed",text:E.message||"An error occurred while processing your sale.",icon:"error",confirmButtonColor:"#b51919"})}}function hn(i){oe.value=i,on.value=D.value[i].discount||0,lt.value=!0}function vn(){lt.value=!1,oe.value=-1}function Ir(i){oe.value>=0&&(D.value[oe.value].discount=i),vn()}function mn(i){oe.value=i,an.value=D.value[i].price||0,ct.value=!0}function _n(){ct.value=!1,oe.value=-1}function Rr(i){oe.value>=0&&(D.value[oe.value].price=i),_n()}async function pn(i){ae.id=i.id,ae.date=i.sale_date,ae.customerName=i.customer_name,ae.items=i.saleItems||D.value,ae.total=i.total_amount,ae.paymentType=i.payment_type,ae.status=i.status,st.value=!0,await Ln();const s=document.getElementById("barcodeElement");s&&Vc(s,i.id,{format:"CODE128",lineColor:"#000",width:2,height:40,displayValue:!1})}function Mr(){st.value=!1,Re()}function Re(){D.value=[],z.value="",B.value=[],W.value=null,re.value=0,Z.value=0,Y.value="",se.value="",ke.value="",Pe.value="",Ae.value="",Te.value="",Ie.value=""}function Dr(){ut.value=!0}function gn(){ut.value=!1}function Br(i){i.name&&(Ue.value.push({...i,id:Ue.value.length+1}),Y.value=i.name),gn()}function Nr(){if(Y.value){const i=Y.value.toLowerCase();qe.value=Ue.value.filter(s=>`${s.first_name} ${s.last_name}`.toLowerCase().includes(i))}else qe.value=[]}function Lr(i){tn.value=i.id,Y.value=`${i.first_name} ${i.last_name}`,qe.value=[]}function bn(){it.value=!0}function yn(){it.value=!1}function jr(i){Re(),console.log(i.saleItems),D.value=i.saleItems.map(s=>({...s,id:s.item_id,name:s.item.name,price:Number(s.price)||0,discount:Number(s.discount)||0})),Y.value=i.customerName,re.value=i.discountAllItemsPercent,Z.value=i.discountEntireSale,se.value=i.payment_type,ke.value=i.checkNumber,Pe.value=i.bankName,Ae.value=i.walletReference,Te.value=i.cardAuthCode,Ie.value=i.bankReference,i.status="Re-Opened",o.updateItem(i.id,{status:i.status}),k.fire({title:"Sale Unsuspended",text:`Loaded sale #${i.id} back into the cart.`,icon:"success",confirmButtonColor:"#b51919"}),yn()}function Gr(i){i.status="voided",o.updateItem(i.id,{status:i.status}),k.fire({title:"Sale Voided",text:`Sale #${i.id} is now voided.`,icon:"success",confirmButtonColor:"#b51919"})}function Fr(i){pn(i)}function Ur(i){}function qr(i){return new Date(i).toLocaleString()}return(i,s)=>(d(),h("div",Df,[R.value||$.value?(d(),h("div",Bf,Lf)):(d(),h("div",jf,[y.value?(d(),h("div",zf,[a("header",Hf,[a("div",null,[Xf,a("p",Qf," Started at: "+b(qr(y.value.start_time)),1),a("p",Wf," User: "+b(P(c).user.first_name)+" "+b(P(c).user.last_name),1)]),a("div",Jf,[a("button",{onClick:Pr,class:"flex items-center justify-center w-10 h-10 bg-gray-500 hover:bg-gray-600 text-white rounded-md transition duration-150"},[Ve.value?(d(),K(xe,{key:1,path:P(no),size:"18"},null,8,["path"])):(d(),K(xe,{key:0,path:P(to),size:"18"},null,8,["path"]))]),a("button",{onClick:pr,class:"px-4 py-2 bg-blue-500 text-white rounded-lg text-lg focus:outline-none"},b(_e.value?"Show Products":"Hide Products"),1),a("button",{onClick:p,class:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md transition duration-150 font-semibold"}," Add Cash "),a("button",{onClick:_,class:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md transition duration-150 font-semibold"}," Remove Cash "),a("button",{onClick:f,class:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md transition duration-150 font-semibold"}," Open Cash Drawer "),a("button",{onClick:bn,class:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md transition duration-150 font-semibold"}," Sales "),D.value.length>0?(d(),h("button",{key:0,onClick:sn,class:"px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-md transition duration-150 font-semibold"}," Suspend ")):w("",!0),D.value.length>0?(d(),h("button",{key:1,onClick:cn,class:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded-md transition duration-150 font-semibold"}," Cancel ")):w("",!0),a("button",{onClick:v,class:"flex items-center justify-center w-10 h-10 bg-red-500 hover:bg-red-600 text-white rounded-md transition duration-150"},[Q(xe,{path:P(ro),size:"18"},null,8,["path"])])])]),a("div",Yf,[a("div",Zf,[_e.value?w("",!0):(d(),h("div",Kf,[Q(Qc,{breadcrumbs:B.value,onReset:kr,onNavigate:Cr},null,8,["breadcrumbs"]),W.value?(d(),h("div",e1,[a("h2",{class:"text-lg font-bold text-[#b51919] cursor-pointer hover:underline flex items-center gap-2",onClick:Sr}," ← Back to Categories ")])):w("",!0),a("h1",t1,b(W.value?W.value:"All Categories"),1),a("div",n1,[T(a("input",{"onUpdate:modelValue":s[0]||(s[0]=g=>z.value=g),type:"text",placeholder:"Search categories or products...",class:"w-full p-2 border rounded"},null,512),[[I,z.value]])])])),Q(nd,{"show-grid":_e.value,searchQuery:z.value,categories:ce.value,currentCategory:W.value,breadcrumbs:B.value,singleGlobalSingleMatch:yr.value,filteredCategories:xr.value,filteredProducts:wr.value,visibleSubcategories:Er.value,isInCart:Ar,cart:D.value,discountAllItemsPercent:re.value,discountEntireSale:Z.value,subTotalBeforeGlobalDiscount:dt.value,totalCartAmount:pe.value,onSelectCategory:Or,onToggleProduct:Tr,onOpenItemPriceModal:mn,onOpenItemDiscountModal:hn,onRemoveFromCart:dn,"onUpdate:discountAllItemsPercent":s[1]||(s[1]=g=>re.value=g),"onUpdate:discountEntireSale":s[2]||(s[2]=g=>Z.value=g)},null,8,["show-grid","searchQuery","categories","currentCategory","breadcrumbs","singleGlobalSingleMatch","filteredCategories","filteredProducts","visibleSubcategories","cart","discountAllItemsPercent","discountEntireSale","subTotalBeforeGlobalDiscount","totalCartAmount"])]),Q(Pd,{cart:D.value,customerName:Y.value,"onUpdate:customerName":s[3]||(s[3]=g=>Y.value=g),discountAllItemsPercent:re.value,"onUpdate:discountAllItemsPercent":s[4]||(s[4]=g=>re.value=g),discountEntireSale:Z.value,"onUpdate:discountEntireSale":s[5]||(s[5]=g=>Z.value=g),totalCartAmount:pe.value,paymentTypes:gr.value,selectedPaymentType:se.value,"onUpdate:selectedPaymentType":s[6]||(s[6]=g=>se.value=g),amountDue:nn.value,checkNumber:ke.value,"onUpdate:checkNumber":s[7]||(s[7]=g=>ke.value=g),bankName:Pe.value,"onUpdate:bankName":s[8]||(s[8]=g=>Pe.value=g),walletReference:Ae.value,"onUpdate:walletReference":s[9]||(s[9]=g=>Ae.value=g),cardAuthCode:Te.value,"onUpdate:cardAuthCode":s[10]||(s[10]=g=>Te.value=g),bankReference:Ie.value,"onUpdate:bankReference":s[11]||(s[11]=g=>Ie.value=g),subTotalBeforeGlobalDiscount:dt.value,filteredCustomers:qe.value,showCartTable:_e.value,onFilterCustomers:Nr,onSelectCustomer:Lr,onOpenCustomerModal:Dr,onOpenItemPriceModal:mn,onOpenItemDiscountModal:hn,onRemoveFromCart:dn,onCheckout:fn,onSuspendSale:sn,onCancelSale:cn,onOpenSalesModal:bn},null,8,["cart","customerName","discountAllItemsPercent","discountEntireSale","totalCartAmount","paymentTypes","selectedPaymentType","amountDue","checkNumber","bankName","walletReference","cardAuthCode","bankReference","subTotalBeforeGlobalDiscount","filteredCustomers","showCartTable"])]),ut.value?(d(),K(Hd,{key:0,onSaveCustomer:Br,onClose:gn})):w("",!0),lt.value?(d(),K(Nn,{key:1,type:"discount",value:on.value,onSave:Ir,onClose:vn},null,8,["value"])):w("",!0),ct.value?(d(),K(Nn,{key:2,type:"price",value:an.value,onSave:Rr,onClose:_n},null,8,["value"])):w("",!0),it.value?(d(),K(hf,{key:3,onClose:yn,onUnsuspendSale:jr,onVoidSale:Gr,onPrintSale:Fr,onEdit:Ur})):w("",!0),st.value?(d(),K(Mf,{key:4,transactionId:rn.value,receiptData:ae,printOptions:br,onClose:Mr},null,8,["transactionId","receiptData"])):w("",!0)])):(d(),h("div",Gf,[a("div",Ff,[Uf,a("p",qf,b(A.value),1),a("p",Vf,b(P(c).user.first_name)+" "+b(P(c).user.last_name),1)]),a("div",{class:"flex space-x-4"},[a("button",{onClick:m,class:"px-6 py-3 bg-green-600 text-white rounded shadow hover:bg-green-700"}," Start New Transaction "),a("button",{onClick:O,class:"px-6 py-3 bg-red-600 text-white rounded shadow hover:bg-red-700"}," Close POS ")])]))]))]))}},y1=wt(r1,[["__scopeId","data-v-a670b9d8"]]);export{y1 as default};
