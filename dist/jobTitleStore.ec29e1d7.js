import{J as u,K as f,a as i}from"./index.fa4aaca0.js";import{A as r}from"./index.73340c3e.js";const d={async create(e){return(await u.post(`${r}/job-titles`,e)).data},async getById(e){return(await u.get(`${r}/job-titles/${e}`)).data},async updateById(e,a){return(await u.put(`${r}/job-titles/${e}`,a)).data},async delete(e){return(await u.delete(`${r}/job-titles/${e}`)).data},async list(e){return(await u.get(`${r}/job-titles`,{params:e})).data}},h=f("jobTitle",()=>{const e=i({total:0,totalPages:1,currentPage:1,pageSize:10,data:[]}),a=i(!1),l=i(null),c=i(!1);return{items:e,isLoading:a,error:l,isLoaded:c,fetchItems:async(o={},n=!1)=>{var t;if(l.value=null,!(!n&&c.value))try{a.value=!0;const s=await d.list(o);Object.assign(e.value,{total:s.total||0,totalPages:s.totalPages||1,currentPage:o.page||1,pageSize:o.limit||10,data:s.data||[]}),c.value=!0}catch(s){l.value=((t=s==null?void 0:s.response)==null?void 0:t.message)||"Failed to fetch job titles"}finally{a.value=!1}},createItem:async o=>{var n;l.value=null;try{a.value=!0;const t=await d.create(o);e.value.data.push(t),e.value.total+=1}catch(t){l.value=((n=t==null?void 0:t.response)==null?void 0:n.message)||"Failed to create job title"}finally{a.value=!1}},updateItem:async(o,n)=>{var t;l.value=null;try{a.value=!0;const s=await d.updateById(o,n),p=e.value.data.findIndex(v=>v.id===o);p!==-1&&(e.value.data[p]=s)}catch(s){l.value=((t=s==null?void 0:s.response)==null?void 0:t.message)||"Failed to update job title"}finally{a.value=!1}},deleteItem:async o=>{var n;l.value=null;try{a.value=!0,await d.delete(o),e.value.data=e.value.data.filter(t=>t.id!==o),e.value.total-=1}catch(t){l.value=((n=t==null?void 0:t.response)==null?void 0:n.message)||"Failed to delete job title"}finally{a.value=!1}},resetStore:()=>{e.value={total:0,totalPages:1,currentPage:1,pageSize:10,data:[]},c.value=!1,a.value=!1,l.value=null}}});export{h as u};
