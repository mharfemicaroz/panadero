import{r as b,u as v,a as m,d as w,w as h,o as y,b as V,c as L,e as o,f as e,n as x,g as $,h as c,i as r}from"./index.81ed66ed.js";import{_ as k}from"./logo.c6f18b48.js";import{m as B,a as S}from"./mdi.aa269c9f.js";import{_ as A}from"./SectionFullScreen.a10f3ba3.js";import{_ as C}from"./CardBox.d4dece43.js";import{_ as f}from"./FormField.d55bd45d.js";import{_ as d}from"./FormControl.7fdae42f.js";import{_ as E}from"./BaseButton.4cf3599a.js";import{_ as P}from"./BaseButtons.e89c9a47.js";import{L as U}from"./LayoutGuest.98d1247c.js";import"./darkMode.4d354904.js";import"./BaseIcon.f7bbc3f6.js";import"./_plugin-vue_export-helper.c27b6911.js";const N=r("div",{class:"flex items-center justify-center mb-4"},[r("img",{src:k,alt:"Logo",class:"mx-2",width:"25"}),r("b",{class:"font-black text-lg"},"Panadero")],-1),T={__name:"LoginView",setup(j){const s=b({login:"",pass:""}),u=v(),l=m(!1),a=m(null),p=w.useLoading();h(()=>l.value,t=>{t?a.value||(a.value=p.show({canCancel:!1,isFullPage:!0,color:"#3b82f6",opacity:.8})):a.value&&(a.value.hide(),a.value=null)},{immediate:!0}),y(()=>{a.value&&(a.value.hide(),a.value=null)});const _=async()=>{try{l.value=!0,await u.login(s.login,s.pass),console.log(u.user)}catch(t){alert(t.message||"Login failed")}finally{l.value=!1}};return(t,i)=>(V(),L(U,null,{default:o(()=>[e(A,{bg:"pinkRed"},{default:o(({cardClass:g})=>[e(C,{class:x(g),"is-form":"",onSubmit:$(_,["prevent"])},{footer:o(()=>[e(P,null,{default:o(()=>[e(E,{type:"submit",color:"info",label:"Login",disabled:l.value},null,8,["disabled"])]),_:1})]),default:o(()=>[N,e(f,{label:"Login",help:"Enter your login"},{default:o(()=>[e(d,{modelValue:s.login,"onUpdate:modelValue":i[0]||(i[0]=n=>s.login=n),icon:c(B),name:"login",autocomplete:"username"},null,8,["modelValue","icon"])]),_:1}),e(f,{label:"Password",help:"Enter your password"},{default:o(()=>[e(d,{modelValue:s.pass,"onUpdate:modelValue":i[1]||(i[1]=n=>s.pass=n),icon:c(S),type:"password",name:"password",autocomplete:"current-password"},null,8,["modelValue","icon"])]),_:1})]),_:2},1032,["class","onSubmit"])]),_:1})]),_:1}))}};export{T as default};
