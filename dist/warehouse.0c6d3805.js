import{J as r,K as y,a as c}from"./index.a2c9f28c.js";const d={async create(a){return(await r.post("/warehouse",a)).data},async getById(a){return(await r.get(`/warehouse/${a}`)).data},async updateById(a,o){return(await r.put(`/warehouse/${a}`,o)).data},async delete(a){return(await r.delete(`/warehouse/${a}`)).data},async list(a){return(await r.get("/warehouse",{params:a})).data}},F=y("warehouse",()=>{const a=c([]),o=c(null),s=c(!1),t=c(null),v=c(!1);return{warehouses:a,warehouse:o,isLoading:s,error:t,isLoaded:v,fetchAll:async(n={},l=!1)=>{var e;if(t.value=null,!(!l&&v.value))try{s.value=!0;const u=await d.list(n);a.value=u.data,v.value=!0}catch(u){t.value=((e=u==null?void 0:u.response)==null?void 0:e.message)||"Failed to fetch warehouses"}finally{s.value=!1}},fetchById:async n=>{var l;t.value=null;try{s.value=!0;const e=await d.getById(n);o.value=e}catch(e){t.value=((l=e==null?void 0:e.response)==null?void 0:l.message)||"Failed to fetch warehouse"}finally{s.value=!1}},create:async n=>{var l;t.value=null;try{s.value=!0;const e=await d.create(n);a.value.push(e)}catch(e){t.value=((l=e==null?void 0:e.response)==null?void 0:l.message)||"Failed to create warehouse"}finally{s.value=!1}},updateById:async(n,l)=>{var e;t.value=null;try{s.value=!0;const u=await d.updateById(n,l),i=a.value.findIndex(p=>p.id===n);i!==-1&&(a.value[i]=u)}catch(u){t.value=((e=u==null?void 0:u.response)==null?void 0:e.message)||"Failed to update warehouse"}finally{s.value=!1}},deleteById:async n=>{var l;t.value=null;try{s.value=!0,await d.delete(n),a.value=a.value.filter(e=>e.id!==n)}catch(e){t.value=((l=e==null?void 0:e.response)==null?void 0:l.message)||"Failed to delete warehouse"}finally{s.value=!1}},resetStore:()=>{a.value=[],o.value=null,s.value=!1,t.value=null,v.value=!1}}});export{F as u};
